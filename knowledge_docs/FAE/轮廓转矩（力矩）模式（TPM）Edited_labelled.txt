轮廓转矩（力矩）模式（TPM）Edited
功能简介
力矩模式，即 profile torque mode。给定目标力矩以及设置力矩的上升斜率，伺服内部的轨迹发生器会产生一系列力矩指令给伺服的控制系统。
字典说明
轮廓转矩模式相关参数
| 参数名称               | 字典名称                          | 主索引 | 子索引 | 数据类型  | 参数范围               | 读写权限 | 单位                              | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                               |
| ---------------------- | --------------------------------- | ------ | ------ | --------- | ---------------------- | -------- | --------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 运行模式指令           | Operation Mode Command            | 0x6060 | 0x00   | INTEGER8  | -128~127               | RW       | -                                 | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 控制字                 | DS402 Controlword                 | 0x6040 | 0x00   | UNS16     | 0~65535                | RW       | -                                 |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机最大转速/速度(RPM) | Motor Maximum Speed RPM           | 0x6080 | 0x00   | UNS32     | 1 ~ 4294967295         | RW       | RPM                               | 0：位置指令控制。1：速度指令控制。                                                                                                                                                                                                                                                                                                                                           |
| 应用速度限制           | Application Speed Limit           | 0x607F | 0x00   | UNS32     | 0 ~ 4294967295         | RW       | VelUU（单位转换，用户单位）       |                                                                                                                                                                                                                                                                                                                                                                              |
| 力矩上升斜率           | Torque Slope                      | 0x6087 | 0x00   | UNS32     | 0 ~ 4294967295         | RW       | mN/s                              |                                                                                                                                                                                                                                                                                                                                                                              |
| 力矩目标值             | Torque Target Value               | 0x6071 | 0x00   | INTEGER16 | -32758~32767           | RW       | TqCU（转矩坐标转换，用户单位‰）  |                                                                                                                                                                                                                                                                                                                                                                              |
| 应用电流限制           | Application Current Limit         | 0x364C | 0x00   | UNS32     | 0 ~ 4294967295         | RW       | mA                                |                                                                                                                                                                                                                                                                                                                                                                              |
| 正向力矩限制相对值     | Positive Torque Limit Relative    | 0x60E0 | 0x00   | UNS16     | 0~65535                | RW       | 0.1%（额定转矩的千分比）          | 0：关闭正向力矩限制功能其他值：正向力矩限制启用                                                                                                                                                                                                                                                                                                                              |
| 负向力矩限制相对值     | Negative Torque Limit Relative    | 0x60E1 | 0x00   | UNS16     | 0~65535                | RW       | 0.1%（额定转矩的千分比）          | 0：关闭负向力矩限制功能其他值：负向力矩限制启用                                                                                                                                                                                                                                                                                                                              |
| 状态字                 | DS402 Statusword                  | 0x6041 | 0x00   | UNS16     | -                      | RW       | -                                 |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机运行状态           | Motor Operation Status            | 0x3005 | 0x00   | UNS8      | 0~255                  | RO       | -                                 |                                                                                                                                                                                                                                                                                                                                                                              |
| 当前运行模式           | Operation Mode Actual             | 0x6061 | 0x00   | INTEGER8  | -                      | RO       | -                                 | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 速度指令值             | Velocity Demand Value             | 0x606B | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位）   |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机端速度当前值       | Motor Velocity Actual Value       | 0x3574 | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位）   |                                                                                                                                                                                                                                                                                                                                                                              |
| 负载端速度当前值       | Load Velocity Actual Value        | 0x606C | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位）   |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机端速度误差值       | Motor Velocity Error Value        | 0x3575 | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位）   |                                                                                                                                                                                                                                                                                                                                                                              |
| 负载端速度误差值       | Load Velocity Error Value         | 0x351E | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位）   |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机端速度观测器当前值 | Motor Speed Observer Actual Value | 0x3604 | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位）   |                                                                                                                                                                                                                                                                                                                                                                              |
| 负载端速度观测器当前值 | Load Speed Observer Actual Value  | 0x3605 | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位）   |                                                                                                                                                                                                                                                                                                                                                                              |
| 力矩指令值             | Torque Demand Value               | 0x6074 | 0x00   | INTEGER16 | -32758~32767           | RO       | TqCU（转矩坐标转换，用户单位‰）  |                                                                                                                                                                                                                                                                                                                                                                              |
| 电流当前值             | Current Actual Value              | 0x6078 | 0x00   | INTEGER16 | -32758~32767           | RO       | TqCU（转矩坐标转换，用户单位‰）  |                                                                                                                                                                                                                                                                                                                                                                              |
| 电流误差值             | Current Error Value               | 0x351F | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | TqCU（转矩坐标转换，用户单位 mA） |                                                                                                                                                                                                                                                                                                                                                                              |
轮廓转矩模式指令参数
轮廓转矩模式指令参数-控制命令类
| 参数名称     | 字典名称               | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                               |
| ------------ | ---------------------- | ------ | ------ | -------- | -------- | -------- | ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 运行模式指令 | Operation Mode Command | 0x6060 | 0x00   | INTEGER8 | -128~127 | RW       | -    | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 控制字       | DS402 Controlword      | 0x6040 | 0x00   | UNS16    | 0~65535  | RW       | -    |                                                                                                                                                                                                                                                                                                                                                                              |
运行模式指令 6060h-00h
运动模式（0x6060-0x00）设置为 4 时，表示轮廓转矩模式，此时当前运行模式（0x6061-0x00）为 4。任意运行模式在使能或者失能的状态下都可以切换到轮廓转矩模式。
轮廓转矩模式切换到其他模式时，建议失能或 0 力矩使能时切换到其他模式。
控制字 6040h-00h
控制字释义表
| bit   | 名称                    | 含义（中文）         | 描述                              |
| ----- | ----------------------- | -------------------- | --------------------------------- |
| 0     | switch on               | 伺服准备好           | 0：无效 1：有效                   |
| 1     | enable voltage          | 伺服已接通电源       | 0：无效 1：有效                   |
| 2     | quick  stop             | 快速停机             | 1：无效 0：有效                   |
| 3     | enable operation        | 伺服运行             | 0：无效 1：有效                   |
| 4~6   | operation mode specific | 不同运行模式含义不同 |                                   |
| 7     | fault                   | 故障                 | 0->1：有效 0->0、1->1、1->0：无效 |
| 8     | halt                    | 暂停                 | 0：无效 1：有效                   |
| 9~10  | reserved                | 预留                 |                                   |
| 11~15 | manufacturer specific   | 厂家自定义           |                                   |
轮廓转矩模式下 bit4~bit6
| bit | 含义     | 描述   |
| --- | -------- | ------ |
| 4   | reserved | 未定义 |
| 5   | reserved | 未定义 |
| 6   | reserved | 未定义 |
轮廓转矩模式下的控制命令和状态切换
| 操作         | 控制字 6040h | 驱动器状态                       | 状态字 6041h |
| ------------ | ------------ | -------------------------------- | ------------ |
| 伺服失能     | 0x05         | switch on disabled               | 0x250        |
| 伺服未准备好 | 0x06         | ready to switch on               | 0x231        |
| 伺服使能     | 0x0F         | operation enable：未到达目标力矩 | 0x237        |
|              |              | operation enable：已到达目标力矩 | 0x637        |
| 暂停         | 0x010F       | operation enable                 | 0x637        |
轮廓转矩模式指令参数-速度类
| 参数名称               | 字典名称                | 主索引 | 子索引 | 数据类型 | 参数范围       | 读写权限 | 单位                        | 字典指令值含义 |
| ---------------------- | ----------------------- | ------ | ------ | -------- | -------------- | -------- | --------------------------- | -------------- |
| 电机最大转速/速度(RPM) | Motor Maximum Speed RPM | 0x6080 | 0x00   | UNS32    | 1 ~ 4294967295 | RW       | RPM                         |                |
| 应用速度限制           | Application Speed Limit | 0x607F | 0x00   | UNS32    | 0 ~ 4294967295 | RW       | VelUU（单位转换，用户单位） |                |
电机最大转速 6080h-00h
电机最大转速（6080h） ≥ 应用速度限制（607Fh）。
应用速度限制 607Fh-00h
应用速度限制（607Fh）≤ 电机最大转速（6080h）。
电机实际运行速度 ≤ 应用限制速度。
轮廓转矩模式下，电机实际运行速度受应用速度限制值限制。轮廓转矩模式下的电机速度 = 应用速度限制。
注：电机运行过程中可以修改应用速度限制，但是需要驱动器失能后重新使能才会生效。
轮廓转矩模式指令参数-转矩/电流类
| 参数名称           | 字典名称                       | 主索引 | 子索引 | 数据类型  | 参数范围       | 读写权限 | 单位                             | 字典指令值含义                                  |
| ------------------ | ------------------------------ | ------ | ------ | --------- | -------------- | -------- | -------------------------------- | ----------------------------------------------- |
| 力矩上升斜率       | Torque Slope                   | 0x6087 | 0x00   | UNS32     | 0 ~ 4294967295 | RW       | mN/s                             |                                                 |
| 力矩目标值         | Torque Target Value            | 0x6071 | 0x00   | INTEGER16 | -32758~32767   | RW       | TqCU（转矩坐标转换，用户单位‰） |                                                 |
| 应用电流限制       | Application Current Limit      | 0x364C | 0x00   | UNS32     | 0 ~ 4294967295 | RW       | mA                               |                                                 |
| 正向力矩限制相对值 | Positive Torque Limit Relative | 0x60E0 | 0x00   | UNS16     | 0~65535        | RW       | 0.1%（额定转矩的千分比）         | 0：关闭正向力矩限制功能其他值：正向力矩限制启用 |
| 负向力矩限制相对值 | Negative Torque Limit Relative | 0x60E1 | 0x00   | UNS16     | 0~65535        | RW       | 0.1%（额定转矩的千分比）         | 0：关闭负向力矩限制功能其他值：负向力矩限制启用 |
力矩上升斜率 6087h-00h
规划力矩上升的斜率。
力矩目标值 6071h-00h
使驱动器规划伺服电机达到的目标力矩。 当目标力矩 > 0 时，正向运行；当目标力矩 < 0 时，负向运行。电机运行过程中可修改目标力矩，修改后立即生效。
目标力矩受应用电流限制。目标力矩值 = 用户输入的目标力矩（单位 mA）/ 电机额定电流（0x6075-0x00）*1000。
例如：电机额定电流 3A，用户输入 1A 的目标力矩，目标力矩(0x6071-0x00） = 1000/3000*1000 = 333
应用电流限制 364Ch-00h
应用限制电流 <= min[电机峰值电流（3528h-00h），驱动器峰值电流（35B8h-02h）]
（1）满足以下任意条件时，应用电流限制 = Min[电机峰值电流，驱动器峰值电流]：
a.当电机额定电流 * 应用电流限制相对值 ≥  电机峰值电流；
b. 当电机额定电流 * 应用电流限制相对值 ≥ 驱动器峰值电流。
（2）满足以下所有条件时，应用电流限制 = 电机额定电流 * 应用电流限制相对值：
a.当电机额定电流 * 应用电流限制相对值  < 电机峰值电流 ;
b.当电机额定电流 * 应用电流限制相对值 < 驱动器峰值电流。
注： 当仅修改电机额定电流时，会自动计算应用电流限制相对值，应用电流限制相对值 = 应用电流限制（364Ch-00h） / 电机额定电流（6075h-00h）。
正向力矩限制相对值 60E0h-00h
限制输出力矩的正向最大值，为电机额定转矩的百分比。
在所有运行模式下都生效。
示例：电机额定转矩（6076h）的值为 3000mNm，设置正向力矩限制相对值为 10%，那么实际上限制输出的力矩正向最大值为 300mNm。
注：不限制 D 轴电流输出和辨识电流。
负向力矩限制相对值 60E1h-00h
限制输出力矩的负向最大值，为电机额定转矩的百分比。
在所有运行模式下都生效。
示例：电机额定转矩（6076h）的值为 3000mNm，设置正向力矩限制相对值为 10%，那么实际上限制输出的力矩负向最大值为 300mNm。
注：不限制 D 轴电流输出和辨识电流。
轮廓转矩模式监测参数
轮廓转矩模式监测参数-状态类
| 参数名称     | 字典名称               | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                               |
| ------------ | ---------------------- | ------ | ------ | -------- | -------- | -------- | ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 状态字       | DS402 Statusword       | 0x6041 | 0x00   | UNS16    | -        | RW       | -    |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机运行状态 | Motor Operation Status | 0x3005 | 0x00   | UNS8     | 0~255    | RO       | -    |                                                                                                                                                                                                                                                                                                                                                                              |
| 当前运行模式 | Operation Mode Actual  | 0x6061 | 0x00   | INTEGER8 | -        | RO       | -    | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
状态字 6041h-00h
状态字释义表
| bit   | 名称                    | 含义             | 描述                                                                          |
| ----- | ----------------------- | ---------------- | ----------------------------------------------------------------------------- |
| 0     | ready to switch on      | 伺服未准备好     | 0：无效 1：有效                                                               |
| 1     | switched on             | 伺服已接通 PWM   | 0：无效 1：有效                                                               |
| 2     | operation enabled       | 伺服使能         | 0：无效 1：有效                                                               |
| 3     | fault                   | 故障             | 0：无效 1：有效                                                               |
| 4     | voltage enabled         | 驱动器已接通电源 | 0：无效 1：有效                                                               |
| 5     | quick stop              | 急停             | 0：无效 1：有效                                                               |
| 6     | switch on disabled      | 伺服未接通 PWM   | 0：无效 1：有效                                                               |
| 7     | warning                 | 警告             | 0：无效 1：有效                                                               |
| 8     | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
| 9     | remote                  | 远程控制         | 0：非 CANopen 模式 1：CANopen 远程控制模式                                    |
| 10    | target reached          | 目标已到达       | 0：无效 1：有效                                                               |
| 11    | internal limit active   | 软件内部位置超限 | 0：位置指令或反馈未到达软件内部位置限制 1：位置指令或反馈达到软件内部位置限制 |
| 12~13 | operation mode specific | 运行模式定义状态 | 与运行模式有关                                                                |
| 14~15 | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
状态字bit0-bit3，bit5，bit6 定义
| Value(binary)指令值 | State状态      |
| --------------------------- | ---------------------- |
| xxxx xxxx x0xx 0000         | Not ready to switch on |
| xxxx xxxx x1xx 0000         | Switch on disabled     |
| xxxx xxxx x01x 0001         | Ready to switch on     |
| xxxx xxxx x01x 0011         | Switched on            |
| xxxx xxxx x01x 0111         | Operation enabled      |
| xxxx xxxx x00x 0111         | Quick stop active      |
| xxxx xxxx x0xx 1111         | Fault reaction active  |
| xxxx xxxx x0xx 1000         | Fault                  |
状态字Bit10、Bit12、Bit13 定义
| Bit | Value | Definition含义                                                                            |
| ------- | --------- | ------------------------------------------------------------------------------------------------- |
| 10      | 0         | Halt (Bit 8 in controlword) = 0: Target torque not reached 控制字 bit8 = 0 时，表示目标位置未到达 |
|         |           | Halt (Bit 8 in controlword) = 1: Axis decelerates 控制字 bit8 = 1 时，表示轴减速中                |
|         | 1         | Halt (Bit 8 in controlword) = 0: Target torque reached 控制字 bit8 = 0 时，表示目标位置已到达     |
|         |           | Halt (Bit 8 in controlword) = 1: Velocity of axis is 0 控制字 bit8 = 1 时，表示轴速度为 0         |
| 12      | -         | -                                                                                                 |
| 13      | -         | -                                                                                                 |
电机运行状态 3005h-00h
电机状态与伺服状态关系
| 402 状态               | 电机状态 |
| ---------------------- | -------- |
| Not ready to switch on | 电机失能 |
| Switch on disabled     | 电机失能 |
| Ready to switch on     | 电机失能 |
| Switched on            | 电机失能 |
| Operation enabled      | 电机使能 |
| Quick stop active      | 电机使能 |
| Fault                  | 电机失能 |
当前运行模式 6061h-00h
反馈当前运行模式，出厂设置为 0，表示空模式，空模式可以切换到任意模式。
当运行模式指令 = 4 时，当前运行模式 = 4。
轮廓转矩模式监测参数-速度类
| 参数名称               | 字典名称                          | 主索引 | 子索引 | 数据类型  | 参数范围               | 读写权限 | 单位                            | 字典指令值含义 |
| ---------------------- | --------------------------------- | ------ | ------ | --------- | ---------------------- | -------- | ------------------------------- | -------------- |
| 速度指令值             | Velocity Demand Value             | 0x606B | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位） |                |
| 电机端速度当前值       | Motor Velocity Actual Value       | 0x3574 | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位） |                |
| 负载端速度当前值       | Load Velocity Actual Value        | 0x606C | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位） |                |
| 电机端速度误差值       | Motor Velocity Error Value        | 0x3575 | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位） |                |
| 负载端速度误差值       | Load Velocity Error Value         | 0x351E | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位） |                |
| 电机端速度观测器当前值 | Motor Speed Observer Actual Value | 0x3604 | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位） |                |
| 负载端速度观测器当前值 | Load Speed Observer Actual Value  | 0x3605 | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | VelCU（速度坐标转换，用户单位） |                |
速度指令值 606Bh-00h
用于速度规划。电机的速度按照速度指令值的规划运行。
电机端速度当前值 3574h
双编码器控制时，为编码器 1 的速度当前值。
负载端速度当前值 606Ch
单编码器控制时，当前编码器为编码器 1 时，为编码器 1 速度当前值；当前编码器为编码器 2 时，为编码器 2 速度当前值。
双编码器控制时，为编码器 2 的速度当前值，此时负载端速度 = 电机端速度 *减速比。
减速比 = 齿轮比分子（3576h-00h）/ 齿轮比分母（3577h-00h）。
电机端速度误差值 3575h
电机端速度误差 = 速度规划值（606Bh-00h） - 电机端速度当前值（3574h-00h）。
双编码器控制时，为编码器 1 的速度误差。
负载端速度误差值 351Eh-00h
负载端速度误差 = 速度规划值（606Bh-00h） - 负载端速度当前值（606Ch-00h）。
单编码器控制时，为编码器 1 速度误差。双编码器控制时，指编码器 2 的速度误差。
电机端速度观测器当前值 3604h-00h
速度观测器速度用于内部速度控制的反馈速度。
双编码器控制时，为编码器 1 反馈速度。
负载端速度观测器当前值 3605h-00h
速度观测器速度用于内部速度控制的反馈速度。
单编码器控制时，当前编码器为编码器 1 时，为编码器反馈；当前编码器为编码器 2 时，为编码器 2 反馈速度。
双编码器控制时，为编码器 2 反馈速度。
轮廓转矩模式监测参数-电流类
| 参数名称   | 字典名称             | 主索引 | 子索引 | 数据类型  | 参数范围               | 读写权限 | 单位                              | 字典指令值含义 |
| ---------- | -------------------- | ------ | ------ | --------- | ---------------------- | -------- | --------------------------------- | -------------- |
| 力矩指令值 | Torque Demand Value  | 0x6074 | 0x00   | INTEGER16 | -32758~32767           | RO       | TqCU（转矩坐标转换，用户单位‰）  |                |
| 电流当前值 | Current Actual Value | 0x6078 | 0x00   | INTEGER16 | -32758~32767           | RO       | TqCU（转矩坐标转换，用户单位‰）  |                |
| 电流误差值 | Current Error Value  | 0x351F | 0x00   | INTEGER32 | -2147483648~2147483647 | RO       | TqCU（转矩坐标转换，用户单位 mA） |                |
力矩指令值 6074h-00h
用于力矩规划。电机的输出力矩按照力矩指令值进行规划。
电流当前值 6078h-00h
驱动器当前电流值，受正向力矩限制和负向力矩限制。
当开启力矩限制时，-负向力矩限制相对值 * 电机额定电流 ≤ 当前电流值 ≤ 正向力矩限制相对值 * 电机额定电流。
电流误差值 351Fh-00h
电流误差值 = 力矩指令值（6074h-00h） - 电流当前值（6078h-00h）。
模式下控制字使用
模式动作对应的控制字：
| 动作    | 驱动器状态                         | 对应控制字 |
| ----------- | -------------------------------------- | -------------- |
| 失能        | Switch on disabled->Ready to switch on | 0x06           |
| 失能-> 使能 | Switch on disabled->Operation  enabled | 0x0F           |
|             | Ready to switch on->Operation  enabled |                |
| 使能-> 暂停 | Operation enabled->Operation enabled   | 0x010F         |
| 使能-> 失能 | Operation enabled->Ready to switch on  | 0x06           |
|             | Operation enabled->Switch on disabled  | 0x05           |
| 暂停-> 继续 | Operation enabled->Operation enabled   | 0x0F           |
| 暂停-> 失能 | Operation enabled->Ready to switch on  | 0x06           |
|             | Operation enabled->Switch on disabled  | 0x05           |
| 故障-> 失能 | Fault->Switch on diabled               | 0x86           |
模式设置流程

以上媒体的描述: 这是一张流程图，描述了一个系统的操作流程。流程图中包含多个步骤和决策点，具体内容如下：

检测驱动器当前状态。
查询状态字（0x6041-0x00）。
判断是否准备好切换（Ready to switch on?）。
如果否，发送控制字0x06（0x6040-0x00 = 0x06）。
如果是，继续下一步。
使能电机。
发送控制字使能（0x6040-0x00 = 0x0F）。
查询电机状态（0x3005-0x00）。
判断电机是否已经使能。
如果否，返回使能电机步骤。
如果是，继续下一步。
判断运行程序是否停止。
如果否，继续运行目标功能。
如果是，读取控制字。
将控制字输出位置1并发送（0x6040-0x00 = 0x10F）。
读取控制字。
发送新的目标功能。

这个流程图主要用于描述电机控制系统的操作步骤和决策过程。
轮廓转矩模式运行示例
轮廓转矩模式正向运行
| 序号 | 步骤             |                                | 示例操作                     | 状态字 6041h-00h                          | 驱动器状态         |
| ---- | ---------------- | ------------------------------ | ---------------------------- | ----------------------------------------- | ------------------ |
| 1    | 驱动器失能       |                                | 6040h-00h = 0x06             | 0x231                                     | ready to switch on |
|      | 设置运行模式     |                                | 6060h-00h = 4                | 0x231                                     | ready to switch on |
| 2    | 设置参数         | 设置应用速度限                 | 607Fh-00h = 0x07D0（2000RPM) | 0x231                                     | ready to switch on |
|      |                  | 设置目标力矩                   | 6071h-00h = 0x07D0(1000)     | 0x231                                     | ready to switch on |
|      |                  | 设置力矩上升斜率（默认值即可） | 6087h-00h = 0x03E8（1000）   | 0x231                                     | ready to switch on |
| 4    | 轮廓转矩模式运行 |                                | 6040h-00h = 0x0F             | 未到达目标力矩：0x237 到达目标力矩：0x637 | operation enabled  |
| 5    | 驱动器失能       |                                | 6040h-00h = 0x06             | 0x231                                     | ready to switch on |
轮廓转矩模式负向运行
| 序号 | 步骤             |                                | 示例操作                     | 状态字 6041h-00h                          | 驱动器状态         |
| ---- | ---------------- | ------------------------------ | ---------------------------- | ----------------------------------------- | ------------------ |
| 1    | 驱动器失能       |                                | 6040h-00h = 0x06             | 0x231                                     | ready to switch on |
|      | 设置运行模式     |                                | 6060h-00h = 4                | 0x231                                     | ready to switch on |
| 2    | 设置参数         | 设置应用速度限                 | 607Fh-00h = 0x07D0（2000RPM) | 0x231                                     | ready to switch on |
|      |                  | 设置目标力矩                   | 6071h-00h = 0x07D0(-1000)    | 0x231                                     | ready to switch on |
|      |                  | 设置力矩上升斜率（默认值即可） | 6087h-00h = 0x03E8（1000）   | 0x231                                     | ready to switch on |
| 4    | 轮廓转矩模式运行 |                                | 6040h-00h = 0x0F             | 未到达目标力矩：0x237 到达目标力矩：0x637 | operation enabled  |
| 5    | 驱动器失能       |                                | 6040h-00h = 0x06             | 0x231                                     | ready to switch on |
轮廓转矩模式运行中暂停后继续
| 序号 | 步骤             |                                | 示例操作                        | 状态字 6041h-00h                          | 驱动器状态         |
| ---- | ---------------- | ------------------------------ | ------------------------------- | ----------------------------------------- | ------------------ |
| 1    | 驱动器失能       |                                | 6040h-00h = 0x06                | 0x231                                     | ready to switch on |
| 2    | 设置运行模式     |                                | 6060h-00h = 3                   | 0x231                                     | ready to switch on |
| 3    | 设置参数         | 设置应用速度限                 | 607Fh-00h = 0x07D0（2000RPM)    | 0x231                                     | ready to switch on |
|      |                  | 设置目标力矩                   | 6071h-00h = 0x07D0(-1000)       | 0x231                                     | ready to switch on |
|      |                  | 设置力矩上升斜率（默认值即可） | 6087h-00h = 0xFFFFFC18（-1000） | 0x231                                     | ready to switch on |
| 4    | 轮廓转矩模式运行 |                                | 6040h-00h = 0x0F                | 未到达目标力矩：0x237 到达目标力矩：0x637 | operation enabled  |
| 5    | 暂停             |                                | 6040h-00h = 0x010F              | 速度不为 0：0x237 速度为 0：0x637         | operation enabled  |
| 6    | 驱动器失能       |                                | 6040h-00h = 0x06                | 0x231                                     | ready to switch on |