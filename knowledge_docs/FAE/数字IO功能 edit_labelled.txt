数字 IO 功能 edit
功能简介
数字 IO 功能设置分为三类，分别是 GPI、GPO 和 HIO。GPI 是实现 IO 输入对驱动器触发特定的功能。GPO 是实现驱动器达到某种条件输出 IO 电平信号实现对外设的物理通知或其他外设功能启用。HIO 则包含了 STO、正负极限开关、抱闸输出等标准 402 规定的功能项。
字典说明
IO 输入相关字典
| AE 参数名称                  | AF 字典名称                            | 主索引 | AF 子索引   | 数据类型 | 参数范围       | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ---------------------------- | -------------------------------------- | ------ | ----------- | -------- | -------------- | -------- | ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 数字 IO 输入滤波时间         | Digital IO Input Filter Time           | 0x359D | 0x00 ~ 0x20 | UNS8     | 0 ~ 255        | RW       | ms   | IO 输入有效电平持续该时间，才认为 IO 输入有效                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 数字 IO 输入上升沿触发事件表 | Digital IO Input Rising Edge Function  | 0x359B | 0x00 ~ 0x20 | UNS8     | 0 ~ 40         | RW       | -    | 0：忽略输入 1：使能电机 2：失能电机 3：清除错误 4：暂停指令 5：急停 6：切换工作模式 10：回零开始 15：切换位置模式 16：切换速度模式 17：切换力矩模式 18：切换模拟量控速度模式 19：切换模拟量控力矩模式 20：切换脉冲控位置模式 21：切换力控模式 22：切换多段运行模式 23：正极限开关信号 24：回零开关信号 25：负极限开关信号 26：切换回零模式 27：多段运行模式段触发指令 28：多段运行模式段选 bit0 置 129：多段运行模式段选 bit0 置 030：多段运行模式段选 bit1 置 131：多段运行模式段选 bit1 置 032：多段运行模式段选 bit2 置 133：多段运行模式段选 bit2 置 034：多段运行模式段选 bit3 置 135：多段运行模式段选 bit3 置 036：取消暂停 37：清除所有警告 38：探针 139：探针 2 |
| 数字 IO 输入下降沿触发事件表 | Digital IO Input Falling Edge Function | 0x359C | 0x00 ~ 0x20 | UNS8     | 0 ~ 40         | RW       | -    | 0：忽略输入 1：使能电机 2：失能电机 3：清除错误 4：暂停指令 5：急停 6：切换工作模式 10：回零开始 15：切换位置模式 16：切换速度模式 17：切换力矩模式 18：切换模拟量控速度模式 19：切换模拟量控力矩模式 20：切换脉冲控位置模式 21：切换力控模式 22：切换多段运行模式 23：正极限开关信号 24：回零开关信号 25：负极限开关信号 26：切换回零模式 27：多段运行模式段触发指令 28：多段运行模式段选 bit0 置 129：多段运行模式段选 bit0 置 030：多段运行模式段选 bit1 置 131：多段运行模式段选 bit1 置 032：多段运行模式段选 bit2 置 133：多段运行模式段选 bit2 置 034：多段运行模式段选 bit3 置 135：多段运行模式段选 bit3 置 036：取消暂停 37：清除所有警告 38：探针 139：探针 2 |
| 数字 IO 输入有效电平         | Digital IO Input Active Level          | 0x357F | 0x02        | UNS32    | 0 ~ 4294967295 | RW       | -    | bit16-bit23 分别代表 input1-input8。0：低电平有效，1：高电平有效                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 数字 IO 输入值               | Digital Input Status                   | 0x60FD | 0x00        | UNS32    | 0 ~ 4294967295 | RO       | -    | 反映驱动器当前 DI 端子的状态 0 - 逻辑无效 1 - 逻辑有效各 bit 位分别表示 DI 信号如下 bit 0 = 负极限开关（negative limit switch）bit 1 = 正极限开关（positive limit switch）bit 2 = 回零开关（ home switch）bit 16 = input1bit 17 = input2bit 18 = input3bit 19 = input4....(以此类推，每个型号硬件产品可用的 IO 输入的数量不同)例如：如果 数字 IO 输入 input1 输入逻辑有效，该字典的 bit16 会被置 1 如果 数字 IO 输入 input2 输入逻辑有效，该字典的 bit17 会被置 1                                                                                                                                                                                                        |
数字 IO 输入滤波时间 359Dh-00h~20h
建议设置 IO 滤波事件，滤除干扰信号，减少误触发。
数字 IO 输入上升沿触发事件 359Bh-00h~20h
指数字 IO 输入的有效电平的上升沿.。
数字 IO 输入下降沿触发事件 359Ch-00h~20h
指数字 IO 输入值的有效电平的下降沿。
数字 IO 输入有效电平 357Fh-02h
0：低电平有效，1：高电平有效。默认高电平有效。
数字 IO 输入值 60FDh-00h
通过此字典可以查看 IO 输入的哪一个引脚有效。0：无效，1：有效。
| bit | 含义   |
| ------- | ---------- |
| 0       | 负极限开关 |
| 1       | 正极限开关 |
| 2       | 回零开关   |
| 3~15    | 未定义     |
| 16      | input1     |
| 17      | input2     |
| 18      | input3     |
| 19      | input4     |
| 20      | input5     |
| 21      | input6     |
| 22      | input7     |
| 23      | input8     |
IO 输出相关字典
| 参数名称                       | 字典名称                   | 主索引 | 子索引      | 数据类型 | 参数范围       | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                  |
| ------------------------------ | -------------------------- | ------ | ----------- | -------- | -------------- | -------- | ---- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 数字 IO 输出监视事件           | Digital IO Output Function | 0x359E | 0x00 ~ 0x20 | UNS8     | 0 ~ 39         | RW       | -    | 0：通用输出 1：目标到达 2：伺服准备好 3：位置到达 4：零速到达 5：速度到达 6：回零成功 7：驱动器错误 8：抱闸输出 9：警告输出 27：多段运行模式运行状态 28：Z 相脉冲信号                                                                                                                                                                                           |
| 数字 IO 输出极性（上升下降沿） | Digital IO Output Polarity | 0x359F | 0x00 ~ 0x20 | UNS8     | 0 ~ 1          | RW       | -    | 0：低电平，1：高电平                                                                                                                                                                                                                                                                                                                                            |
| 数字 IO 输出掩码开关           | Digital IO Output Mask     | 0x60FE | 0x02        | UNS32    | 0 ~ 4294967295 | RW       | -    | OUTPUT 输出掩码 bit 位定义如下 bit = 0 表示输出无效，IO 输出不会受到 0x60FE-0x01 Digital Output Status 改变而改变 bit = 1 表示输出有效，IO 输出将会跟随  0x60FE-0x01 Digital Output Status 指令改变而改变                                                                                                                                                       |
| 数字 IO 输出值                 | Digital Output Status      | 0x60FE | 0x01        | UNS32    | 0 ~ 4294967295 | RW       | -    | bit0~bit15 表示的状态 bit0 =刹车*bit0 = 1,抱闸开启，电机处于抱闸状态 bit0 = 0 抱闸关闭，带年纪处于松闸状态 bit16~bit31 表示的状态每个数字输出，不管输出的功能。位 16 =数字输出 1  OUTPUT1 位 17 =数字输出 2  OUTPUT2 位 18 =数字输出 3  OUTPUT3... （以此类推，不同产品的 OUTPUT 数目不同）位值的含义如下:0 = 关闭输出，输出无效状态 1 = 打开输出，输出有效状态 |
|                                |                            |        |             |          |                |          |      |                                                                                                                                                                                                                                                                                                                                                                 |
数字 IO 输出监视事件 359Eh-00h~20h
| 值 | 含义             |
| ------ | -------------------- |
| 0      | 通用输出             |
| 1      | 目标到达             |
| 2      | 伺服准备好           |
| 3      | 位置到达             |
| 4      | 零速到达             |
| 5      | 速度到达             |
| 6      | 回零成功             |
| 7      | 驱动器错误           |
| 8      | 抱闸输出             |
| 9      | 警告输出             |
| 27     | 多段运行模式运行状态 |
| 28     | Z 相脉冲信号         |
数字 IO 输出极性 359Fh-00h~20h
0：低电平，1：高电平。
数字 IO 输出掩码开关 60FEh-02h
掩码开关参数设置：
1、当 IO 输出功能设置为通用输出，用户可以通过该字典子索引 1 的位来控制某个 IO 的状态，且受子索引 2 掩码控制子索引 1 对应的 IO 的状态是否生效；
2、当 IO 输出功能设置为非通用输出，则用户设置字典对应的位无法改变实际 IO 的输出状态，字典值也无法改变，实际输出的 IO 状态和字典值受到驱动器控制。
例：当 output1 设置为通用输出事件时，其掩码开关对应 0x60FE-0x02-bit16 为 1 时，设置 outpu1 输出 IO（0x60FE-0x01-bit16 为 1），实际 output1 并没有输出。
数字 IO 输出值 60FEh-01h
bit0 ~ bit15 表示的状态
bit0 = 刹车
bit0 = 1,抱闸开启，电机处于抱闸状态
bit0 = 0 抱闸关闭，带年纪处于松闸状态
bit16 ~ bit31 表示的状态
每个数字输出，不管输出的功能。
位 16 = 数字输出 1  OUTPUT1
位 17 = 数字输出 2  OUTPUT2
位 18 = 数字输出 3  OUTPUT3
... （以此类推，不同产品的 OUTPUT 数目不同）
位值的含义如下:
0 = 关闭输出，输出无效状态
1 = 打开输出，输出有效状态
| bit | 含义                         |
| ------- | -------------------------------- |
| 0       | 抱闸状态：0-松闸状态，1-抱闸状态 |
| 1~15    | 未定义                           |
| 16      | output1 的状态：0-无效，1-有效   |
| 17      | output2 的状态：0-无效，1-有效   |
| 18      | output3 的状态：0-无效，1-有效   |
| 19      | output4 的状态：0-无效，1-有效   |
限位开关相关字典
| 参数名称           | 字典名称                           | 主索引 | 子索引 | 数据类型 | 参数范围       | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ------------------ | ---------------------------------- | ------ | ------ | -------- | -------------- | -------- | ---- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 正极限开关检测开关 | Positive Limit Switch Alert Enable | 0x3544 | 0x00   | UNS8     | 0 ~ 1          | RW       | ms   | 0：关闭 1：打开                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 负极限开关检测开关 | Negative Limit Switch Alert Enable | 0x3545 | 0x00   | UNS8     | 0 ~ 1          | RW       | -    | 0：关闭 1：打开                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 数字 IO 输入值     | Digital Input Status               | 0x60FD | 0x00   | UNS32    | 0 ~ 4294967295 | RO       | -    | 反映驱动器当前 DI 端子的状态 0 - 逻辑无效 1 - 逻辑有效各 bit 位分别表示 DI 信号如下 bit 0 = 负极限开关（negative limit switch）bit 1 = 正极限开关（positive limit switch）bit 2 = 回零开关（ home switch）bit 16 = input1bit 17 = input2bit 18 = input3bit 19 = input4....(以此类推，每个型号硬件产品可用的 IO 输入的数量不同)例如：如果 数字 IO 输入 input1 输入逻辑有效，该字典的 bit16 会被置 1 如果 数字 IO 输入 input2 输入逻辑有效，该字典的 bit17 会被置 1 |
正极限开关检测开关 3544h-00h
用于判断是否触发硬件限位功能。
负极限开关检测开关 3545h-00h
用于判断是否触发硬件限位功能。
数字 IO 输入值 60FDh-00h
通过此字典可以查看 IO 输入的哪一个引脚有效。0：无效，1：有效。
| bit | 含义       |
| ------- | -------------- |
| 0       | 负极限开关状态 |
| 1       | 正极限开关状态 |
| 2       | 回零开关状态   |
| 3~15    | 未定义         |
| 16      | input1         |
| 17      | input2         |
| 18      | input3         |
| 19      | input4         |
| 20      | input5         |
| 21      | input6         |
| 22      | input7         |
| 23      | input8         |
抱闸相关字典
| 参数名称                 | 字典名称                                | 主索引 | 子索引 | 数据类型 | 参数范围     | 读写权限 | 单位 | 字典指令值含义                           |
| ------------------------ | --------------------------------------- | ------ | ------ | -------- | ------------ | -------- | ---- | ---------------------------------------- |
| 电机抱闸制动速度阈值     | Motor Brake Engage Speed Threshold      | 0x35AD | 0x01   | UNS32    | 0~4294967295 | RW       | -    |                                          |
| 电机抱闸机械释放时间     | Motor Brake Release Time                | 0x35AD | 0x02   | UNS32    | 0~4294967295 | RW       | ms   |                                          |
| 电机抱闸机械制动时间     | Motor Brake Engage Time                 | 0x35AD | 0x03   | UNS32    | 0~4294967295 | RW       | ms   |                                          |
| 电机抱闸控制模式         | Motor Brake Control Mode                | 0x35AD | 0x04   | UNS8     | 0~1          | RW       | ms   | 0：关闭抱闸自动使能，1：开启抱闸自动使能 |
| 电机抱闸释放软件延迟时间 | Motor Brake Release Software Delay Time | 0x35AD | 0x05   | UNS32    | 0~4294967295 | RW       | ms   |                                          |
| 电机抱闸制动软件延迟时间 | Motor Brake Engage Software Delay Time  | 0x35AD | 0x06   | UNS32    | 0~4294967295 | RW       | ms   |                                          |
| 电机抱闸制动时间阈值     | Motor Brake Engage Time Threshold       | 0x35AD | 0x07   | UNS32    | 0~4294967295 | RW       | -    |                                          |
| 电机抱闸信号 PWM 频率    | Motor Brake PWM Signal Frequency        | 0x35E5 | 0x00   | UNS32    | 10~40000     | RW       | -    |                                          |
| 电机抱闸调压使能         | Motor Brake Voltage Adjustable Enable   | 0x3678 | 0x01   | UNS8     | 0~1          | RW       | -    | 0：关闭 1：开启                          |
| 电机抱闸供电电压         | Motor Brake Power Supply Voltage        | 0x3678 | 0x02   | UNS32    | 0~4294967295 | RW       | mV   |                                          |
| 电机松闸强拉电压         | Motor Brake Disengage Pull Voltage      | 0x3678 | 0x03   | UNS32    | 0~4294967295 | RW       | mV   |                                          |
| 电机松闸强拉持续时间     | Motor Brake Disengage Pull Time         | 0x3678 | 0x04   | UNS32    | 0~4294967295 | RW       | ms   |                                          |
| 电机松闸保持电压         | Motor Brake Disengage Hold Voltage      | 0x3678 | 0x05   | UNS32    | 0~4294967295 | RW       | mV   |                                          |
电机抱闸制动速度阈值 35ADh-01h
正常停机时，电机端速度 < 抱闸制动速度阈值时，输出抱闸动作。
电机抱闸机械释放时间 35ADh-02h
松闸动作累计时间 ≧ 抱闸机械释放时间时，进入松闸状态。
电机抱闸机械制动时间 35ADh-03h
抱闸动作累计时间 ≧ 抱闸机械制动时间时，进入抱闸状态。
电机抱闸控制模式 35ADh-04h
抱闸自动使能标志。默认为 1。
0：关闭抱闸自动使能。关闭此标志，抱闸相关参数不生效。由用户输入抱闸信号控制抱闸状态。
1：开启抱闸自动使能。开启此标志，抱闸相关参数生效。由驱动器抱闸处理逻辑控制抱闸状态。
电机抱闸释放软件延迟时间 35ADh-05h
电机进入使能状态或者 quick stop active 状态或者第一次使能开始计时，当累计时间  ≧ 松闸释放软件延迟时间时，输出松闸动作。
电机抱闸制动软件延迟时间 35ADh-06h
电机进入失能状态开始计时，当累计时间  ≧ 抱闸释放软件延迟时间时，输出抱闸动作。
电机抱闸制动时间阈值 35ADh-07h
故障停机时，错误累计时间 > 抱闸制动时间阈值时，输出抱闸动作。
电机抱闸信号 PWM 频率 35E5h-00h
用户开启 PWM 抱闸后，处理器通过可调占空比脉冲输出指定的电压（小于等于供电电压），可调占空比脉冲的频率就是 PWM 频率。不同驱动器支持的 PWM 频率区间不同，详情见驱动器说明书。
电机抱闸调压使能 3678h-01h
0：关闭电机抱闸调压使能，PWM 抱闸相关参数不生效。
1：开启电机抱闸调压使能，PWM 抱闸相关参数生效。
电机抱闸供电电压 3678h-02h
| 驱动器硬件       | 客户接线 | 抱闸电压     | 设置方法                 |
| -------------------- | ------------ | ---------------- | ---------------------------- |
| 抱闸和母线内部导通   | 无需         | 等于母线电压     | 读取硬件配置信息             |
| 抱闸采用内部某个电源 | 无需         | 等于某个固定电压 | 读取硬件配置信息             |
| 抱闸和母线内部不导通 | 从母线取电   | 等于母线电压     | 用户设置抱闸供电电压为 0     |
| 抱闸和母线内部不导通 | 独立供电     | 根据实际电压     | 用户设置抱闸供电电压为实际值 |
电机松闸强拉电压 3678h-03h
先按照比较高的电压进行抱闸，持续一段时间后，按照稍低的电压保持松闸状态（为了减小发热），电机松闸强拉电压就是前级抱闸输出电压，单位 mv，如下图所示。

以上媒体的描述: 这张图片展示了一个电压随时间变化的图表，描述了松闸动作的过程。图表的横轴表示时间，纵轴表示电压。图中有几个关键点和标注：

松闸强拉电压：在图表的左侧，表示启动松闸动作时的电压。
松闸保持电压：在图表的中间，表示保持松闸状态时的电压。
启动松闸动作：在图表的左上方，有一个红色箭头指向电压上升的起点，表示启动松闸动作的时刻。
松闸强拉持续时间：在图表的下方，用水平箭头标注，表示松闸强拉电压持续的时间。
保持松闸状态：在图表的右侧，表示电压下降到松闸保持电压后的状态。

这个图表主要用于描述电压在松闸动作过程中的变化情况。
电机松闸强拉持续时间 3678h-04h
前级抱闸输出电压的持续时间，单位 ms，如上图所示。
电机松闸保持电压 3678h-05h
电机松闸强拉电压就是后级抱闸输出电压，单位 mv，如上图所示。
功能应用
IO 输入
IO 输入相关参数设置：
| 引脚      | 上升沿触发事件 | 下降沿触发事件 | IO 滤波时间 | 有效电平      | IO 输入值     |
| ------------- | ------------------ | ------------------ | --------------- | ----------------- | ----------------- |
| input1        | 0x359B-0x11        | 0x359C-0x11        | 0x359D-0x11     | 0x357F-0x02-bit16 | 0x60FD-0x00-bit16 |
| input2        | 0x359B-0x12        | 0x359C-0x12        | 0x359D-0x12     | 0x357F-0x02-bit17 | 0x60FD-0x00-bit17 |
| input3        | 0x359B-0x13        | 0x359C-0x13        | 0x359D-0x13     | 0x357F-0x02-bit18 | 0x60FD-0x00-bit18 |
| input4        | 0x359B-0x14        | 0x359C-0x14        | 0x359D-0x14     | 0x357F-0x02-bit19 | 0x60FD-0x00-bit19 |
| input5        | 0x359B-0x15        | 0x359C-0x15        | 0x359D-0x15     | 0x357F-0x02-bit20 | 0x60FD-0x00-bit20 |
| input6/HIO-1  | 0x359B-0x16        | 0x359C-0x16        | 0x359D-0x16     | 0x357F-0x02-bit21 | 0x60FD-0x00-bit21 |
| inpiut7/HIO-2 | 0x359B-0x17        | 0x359C-0x17        | 0x359D-0x17     | 0x357F-0x02-bit22 | 0x60FD-0x00-bit22 |
| input8/HIO-3  | 0x359B-0x18        | 0x359C-0x18        | 0x359D-0x18     | 0x357F-0x02-bit23 | 0x60FD-0x00-bit23 |
IO 输入事件参数设置：
| IO 输入边沿触发功能    | 功能描述                                                                                                                                                           | 对应字典设定的值 |
| -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------- |
| 忽略输入                   | 不触发任何动作                                                                                                                                                         | 0                    |
| 使能电机                   | 402 状态机由 SWITCH ON DISABLE 跳转到 OPERATION ENABLE 状态，电机使能如果已经是 OPERATION ENABLE 状态，则不触发任何动作                                                | 1                    |
| 失能电机                   | 402 状态机切换到 SWITCH ON DISABLED 状态 相当于发送控制字 0x06 shutdown 指令                                                                                           | 2                    |
| 清除错误                   | 系统存在错误则清除错误，402 状态机进入 SWITCH ON DISABLED 状态没有错误则不触发任何动作每次边沿触发清除错误动作只会清除一次，如果系统一直报错，则清除完成错误后还会报错 | 3                    |
| 暂停指令                   | 控制字发送 暂停指令，将控制字 bit8 置 1                                                                                                                                | 4                    |
| 急停                       | 电机使能状态下 下发 QUICK STOP 指令电机失能 则不触发任何动作                                                                                                           | 5                    |
| 切换工作模式               | 位置 速度 力矩模式顺序切换                                                                                                                                             | 6                    |
| 回零开始                   | 电机失能状态，切换回零模式，使能电机（按照 IO 使能逻辑），启动回零如果回零进行中则不会产生任何动作                                                                     | 10                   |
| 切换位置模式               | 对应协议里面轮廓位置模式仅切换模式只切换一次，不论成不成功                                                                                                             | 15                   |
| 切换速度模式               | 设置轮廓速度模式，这里仅仅切换模式只切换一次，不论成不成功                                                                                                             | 16                   |
| 切换力矩模式               | 设置轮廓力矩模式这里仅仅切换模式只切换一次，不论成不成功                                                                                                               | 17                   |
| 切换模拟量控制速度模式     | 仅切换模式只切换一次，不论成不成功                                                                                                                                     | 18                   |
| 切换模拟量控制力矩         | 仅切换模式只切换一次，不论成不成功                                                                                                                                     | 19                   |
| 切换脉冲控位置             | 仅切换模式只切换一次，不论成不成功                                                                                                                                     | 20                   |
| 切换力控模式               | 仅切换模式只切换一次，不论成不成功                                                                                                                                     | 21                   |
| 切换多段运行模式           | 仅切换模式只切换一次，不论成不成功                                                                                                                                     | 22                   |
| 正极限开关                 | 该 IO 映射为 正极限开关功能只能设置一个 IO 作为该功能只能映射上升沿动作                                                                                                | 23                   |
| 回零开关                   | 该 IO 映射为 回零开关功能只能设置一个 IO 作为该功能只能映射上升沿动作                                                                                                  | 24                   |
| 负极限开关                 | 该 IO 映射为 负极限开关功能只能设置一个 IO 作为该功能只能映射上升沿动作                                                                                                | 25                   |
| 切换回零模式               | 仅切换模式只切换一次，不论成不成功                                                                                                                                     | 26                   |
| 多段运行模式段触发         | 置 1，触发多段的某一段（根据下面的编号）                                                                                                                               | 27                   |
| 多段运行模式段选 Bit0 置 1 | 段编号                                                                                                                                                                 | 28                   |
| 多段运行模式段选 Bit0 置 0 |                                                                                                                                                                        | 29                   |
| 多段运行模式段选 Bit1 置 1 |                                                                                                                                                                        | 30                   |
| 多段运行模式段选 Bit1 置 0 |                                                                                                                                                                        | 31                   |
| 多段运行模式段选 Bit2 置 1 |                                                                                                                                                                        | 32                   |
| 多段运行模式段选 Bit2 置 0 |                                                                                                                                                                        | 33                   |
| 多段运行模式段选 Bit3 置 1 |                                                                                                                                                                        | 34                   |
| 多段运行模式段选 Bit3 置 0 |                                                                                                                                                                        | 35                   |
| 取消暂停                   | 控制字发送 取消暂停指令，将控制字 bit8 置 0                                                                                                                            | 36                   |
| 清除所有警告               | 系统存在警告则系统控制指令(0x4500)写入 0x03，清除所有警告没有错误则不触发任何动作每次边沿触发清除警告动作只会清除一次，如果系统一直报警，则清除警告完成后还会报警      | 37                   |
| 探针 1                     | 该 IO 映射为 探针 1 功能只能设置一个 IO 作为该功能此功能 IO 将实时扫描，且暂未加入滤波功能(增大误差)                                                                   | 38                   |
| 探针 2                     | 该 IO 映射为 探针 2 功能只能设置一个 IO 作为该功能此功能 IO 将实时扫描，且暂未加入滤波功能(增大误差)                                                                   | 39                   |
IO 输出
IO 输出相关参数设置：
| 引脚 | 上升沿/下降沿 | 有效电平      | 触发事件 |
| -------- | ----------------- | ----------------- | ------------ |
| output1  | 0x359F-0x11       | 0x60FE-0x01-bit16 | 0x359E-0x11  |
| output2  | 0x359F-0x12       | 0x60FE-0x01-bit17 | 0x359E-0x12  |
| output3  | 0x359F-0x13       | 0x60FE-0x01-bit18 | 0x359E-0x13  |
| output4  | 0x359F-0x14       | 0x60FE-0x01-bit19 | 0x359E-0x14  |
IO 输出事件参数设置：
| IO 输出功能监视事件 | 描述                                                                                                                                                                                                                                                              | 对应的字典值 |
| ----------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------- |
| Z 相脉冲信号            | 输出延时时间通过字典可调节，出厂默认 2ms；因事件函数共用，简化功能逻辑，仅能开启一个通道，N (N>1)个输出通道同时设置 Z 相输出事件，会导致持续时间计算错误（设置值/N）；当超过 1 个输出通道开启 Z 相输出事件时刻会复位一次 Z 状态值，可能会影响之前已开启此事件的通道。 | 28               |
| 伺服准备好              | 402 状态机进入 OPRATION ENABLE 状态，用户可以发送目标指令来驱动电机                                                                                                                                                                                                   | 2                |
| 位置到达                | 位置模式 当前位置到达用户目标位置，且在位置到达判断窗口内维持位置到达窗口判断时间                                                                                                                                                                                     | 3                |
| 回零成功                | 之前未完成回零，则输出无效电平回零完成则输出有效电平之前回零完成则一直输出有效电平如果之前完成了一次回零，再次启动回零进行中，则输出无效电平，直到当前回零完成，则输出有效电平启动回零的时刻才会将回零到达状态清除                                                    | 6                |
| 多段运行模式运行状态    | 目标到达目标未到达                                                                                                                                                                                                                                                    | 27               |
| 抱闸输出                | 默认不可选择 IO，此为固定 IO 功能                                                                                                                                                                                                                                     | 8                |
| 目标到达                | 位置模式 当前位置到达用户目标位置，且在位置到达判断窗口内维持位置到达窗口判断时间速度模式同上力矩模式 力矩规划到达用户设定的目标力矩则认为到达力控模式 同位置模式                                                                                                     | 1                |
| 警告输出                | 存在任何警告信息，则该 IO 生效                                                                                                                                                                                                                                        | 9                |
| 通用输出                | 通过字典由用户控制输出                                                                                                                                                                                                                                                | 0                |
| 速度到达                | 速度模式下 目标速度到达                                                                                                                                                                                                                                               | 5                |
| 零速到达                | 任意模式下 当前速度 处于 0 速阈值范围内维持 0 速度检测阈值判断时间则认为零速度到达                                                                                                                                                                                    | 4                |
| 驱动器错误              | 驱动器任何错误触发，则该 IO 生效                                                                                                                                                                                                                                      | 7                |
STO
STO 接线：STO-COM、STO1-1、STO1-2
正确接线：STO1-1 和 STO1-2 接 24V 电源正极，STO-COM 接 24V 电源负极。
STO 安全保护条件：满足任意条件

断开任意一条接线，

STO 安全保护故障清除条件：满足所有条件

接线正确，可手动清除错误

限位开关
限位开关用于判断是否触发硬件限位功能。
硬件限位超程警告条件：（满足所有条件）

开启正/负极限开关检测开关。
正极限开关信号或负极限开关信号有效。
驱动器处于使能状态。

硬件限位超程警告清除条件：（满足任意条件即可）

正/负极限开关检测开关关闭状态
正/负极限开关信号无效

抱闸
抱闸控制
抱闸初始化：

默认开启抱闸使能标志。驱动器处于抱闸状态。

抱闸输出检测：

60FE-0x01 的 bit0 ：1 表示抱闸 ，0 表示松闸

抱闸逻辑控制：

抱闸使能标志无效时，手动控制抱闸有效，电机可以自由运行
在使能抱闸功能时候，主站通过字典可以设置  60FE-0x01 的 bit0  的字典值，但抱闸动作依然受驱动器控制，不受主站控制。
所有抱闸参数修改后都必须保存复位才会生效。


以上媒体的描述: 图片中是一个流程图，描述了一个系统或过程的逻辑流程。流程图中包含多个菱形和矩形框，分别代表决策点和操作步骤。流程图的内容如下：

抱闸功能是否有效：
是：进入下一步。

否：输出抱闸动作，无法通过控制令电压抱闸。


抱闸动作由用户控制：

是：用户是否输入抱闸信号？
是：输出抱闸动作。
否：电机可以自由旋转由用户控制。



否：进入下一步。


是否存在错误：

是：输出抱闸动作。

否：进入下一步。


是否是电机使能状态：

是：进入下一步。

否：进入抱闸失效超时时间累计算。


相同时间窗：

是：输出抱闸动作。

否：进入下一步。


抱闸失效超时时间累计算：

是：输出抱闸动作。

否：进入下一步。


抱闸失效超时时间累计算：

是：输出抱闸动作。
否：电机可以自由旋转由用户控制。

流程图中使用了不同颜色的框来表示不同的操作结果，绿色表示电机可以自由旋转由用户控制，红色表示输出抱闸动作。

以上媒体的描述: 这是一张流程图，描述了某个系统的操作逻辑。流程图包含以下元素：

条件判断框：
"当前输出抱闸动作" 和 "上一次输出松闸动作"。
"当前输出松闸动作" 和 "上一次输出抱闸动作"。
"抱闸动作/时间累计是否超过抱闸时间"。

"松闸动作/时间累计是否超过松闸时间"。


操作框：

"抱闸动作上升沿"。

"松闸动作上升沿"。


状态框：

"抱闸状态"。

"松闸状态"。


说明框：

描述了在抱闸状态下，如果电机处于使能状态，用户发送的目标值将不起作用，系统将处于暂停状态。原理是检测到松闸状态才能启动电机，包括电机启动角度对齐。系统识别过程中可以要求用户先给抱闸功能辨识来避免用辨识时检测抱闸状态。

流程图通过箭头连接各个框，表示操作的顺序和条件判断的结果。
系统复位抱闸动作：
抱闸自动使能标志有效时，失能状态下系统复位时，抱闸不动作。
抱闸自动使能标志无效时，失能状态下系统复位时，抱闸动作：从松闸状态 -> 抱闸动作 -> 松闸动作。
恢复出厂设置抱闸动作：
抱闸自动使能标志有效时，失能状态下恢复出厂设置时，抱闸不动作。
抱闸自动使能标志无效时，失能状态下恢复出厂设置时，抱闸动作：从松闸状态 -> 抱闸动作 。