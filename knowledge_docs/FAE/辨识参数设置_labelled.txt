辨识参数设置
说明
辨识功能包括电气辨识、极对数辨识、方向辨识、霍尔辨识、Z 相辨识、霍尔辨识、电角度辨识、机械辨识/机械特性辨识、转矩脉动辨识。
注：要先进行极对数辨识再进行方向辨识。
辨识模式相关参数
| 参数名称             | 字典名称                                                | 主索引 | 子索引 | 数据类型 | 参数范围                   | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ------------------------ | ----------------------------------------------------------- | ---------- | ---------- | ------------ | ------------------------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 运行模式指令             | Operation Mode Command                                      | 0x6060     | 0x00       | INTEGER8     | -                              | RW           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 控制字                   | DS402 Controlword                                           | 0x6040     | 0x00       | UNS16        | -                              | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机额定电流             | Motor Continuous Current                                    | 0x6075     | 0x00       | INTEGER32    | 0~4294967295                   | RW           | mA       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流频率             | Identification Current Frequency                            | 0x3502     | 0x00       | UNS32        | 1~4294967295                   | RW           | Hz       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流幅度相对值       | Identification Current Amplitude Relative                   | 0x3503     | 0x00       | UNS32        | 1~200                          | RW           | %        |                                                                                                                                                                                                                                                                                                                                                                              |
| 方向辨识距离             | Direction Identification Distance                           | 0x355D     | 0x00       | UNS32        | 1~100000                       | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 霍尔类型                 | Hall Type                                                   | 0x3532     | 0x00       | UNS8         | 0~1                            | RW           | -        | 0：无霍尔 1：120° 霍尔                                                                                                                                                                                                                                                                                                                                                      |
| 电角度辨识模式           | Electrical Angle Identification Mode                        | 0x3638     | 0x00       | UNS8         | 0~4                            | RW           | -        | 0：强拉寻相 3：短距离寻相 4：矢量寻相                                                                                                                                                                                                                                                                                                                                        |
| 电角度辨识超时时间       | Electrical Angle Identification Timeout Time                | 0x3639     | 0x00       | UNS32        | 0~100000                       | RW           | ms       |                                                                                                                                                                                                                                                                                                                                                                              |
| 电角度辨识参数 1         | Electrical Angle Identification Parameter 1                 | 0x3654     | 0x00       | UNS32        | 1~1000                         | RW           | uH       |                                                                                                                                                                                                                                                                                                                                                                              |
| 电角度辨识参数 2         | Motor ResistanceElectrical Angle Identification Parameter 2 | 0x3655     | 0x00       | UNS32        | 1~1000                         | RW           | momh     |                                                                                                                                                                                                                                                                                                                                                                              |
| 电角度辨识参数 3         | Electrical Angle Identification Parameter 3                 | 0x3656     | 0x00       | UNS32        | 1~2                            | RW           |          |                                                                                                                                                                                                                                                                                                                                                                              |
| 机械辨识电机频率         | Mechanical Identification Motor Frequency                   | 0x3504     | 0x00       | UNS32        | 0~4294967295                   | RW           | Hz       |                                                                                                                                                                                                                                                                                                                                                                              |
| 机械辨识电机速度相对值   | Mechanical Identification Motor Speed Relative              | 0x3505     | 0x00       | UNS32        | 1~100                          | RW           | %        |                                                                                                                                                                                                                                                                                                                                                                              |
| 机械辨识电机电流相对值   | Mechanical Identification Current Current Relative          | 0x3506     | 0x00       | UNS32        | 1~200                          | RW           | %        |                                                                                                                                                                                                                                                                                                                                                                              |
| 机械辨识位置限制最小值   | Mechanical Identification Position Lower Limit              | 0x3508     | 0x00       | INTEGER32    | 软件位置限制最小值~2124283647  | RW           | 用户单位 |                                                                                                                                                                                                                                                                                                                                                                              |
| 机械辨识位置限制最大值   | Mechanical Identification Position Upper Limit              | 0x3507     | 0x00       | INTEGER32    | -2147483642~软件位置限制最大值 | RW           | 用户单位 |                                                                                                                                                                                                                                                                                                                                                                              |
|                          |                                                             |            |            |              |                                |              |          |                                                                                                                                                                                                                                                                                                                                                                              |
| 当前运行模式             | Operation Mode Actual                                       | 0x6061     | 0x00       | INTEGER8     | -                              | RO           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 状态字                   | DS402 Statusword                                            | 0x6041     | 0x00       | UNS16        | -                              | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识状态                 | Identification State                                        | 0x3008     | 0x00       | UNS8         | 0~127                          | RO           | -        | 0：启动开始空闲状态 1：辨识成功 2：电气辨识中 3：方向辨识中 4：机械辨识中 5：转矩脉动辨识中 255：错误状态                                                                                                                                                                                                                                                                    |
| 电机运行状态             | Motor Operation Status                                      | 0x3005     | 0x00       | UNS8         | 0~255                          | RO           | -        | 0：电机失能 1：电机使能                                                                                                                                                                                                                                                                                                                                                      |
| 电机相间电感             | Motor Inductance                                            | 0x3513     | 0x00       | UNS32        | 1~4294967295                   | RW           | uH       |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机相间电阻             | Motor Resistance                                            | 0x3514     | 0x00       | UNS32        | 1~4294967295                   | RW           | momh     |                                                                                                                                                                                                                                                                                                                                                                              |
| 极对数辨识运行电周期数   | Pole Pairs Identification Electrical Cycles                 | 0x355B     | 0x00       | UNS32        | 1~4294967295                   | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 极对数辨识等待稳定时间   | Pole Pairs Identification Wait Time                         | 0x355C     | 0x00       | UNS32        | 1~4294967295                   | RW           | ms       |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机端位置反馈方向       | Motor Position Feedback Direction                           | 0x359A     | 0x01       | INTEGER8     | -1,1                           | RW           | -        | -1：负方向 1：正方向                                                                                                                                                                                                                                                                                                                                                         |
| 负载端位置反馈方向       | Load Position Feedback Direction                            | 0x359A     | 0x02       | INTEGER8     | -1,1                           | RW           | -        | -1：负方向 1：正方向                                                                                                                                                                                                                                                                                                                                                         |
| Z 相对应电角度           | Zero Pulse Electrical Angle                                 | 0x35A3     | 0x00       | UNS32        | 0~4294967295                   | RO           | 1000rad |                                                                                                                                                                                                                                                                                                                                                                              |
| 霍尔状态                 | Hall Status                                                 | 0x3007     | 0x00       | UNS8         | 0~2                            | RO           | -        | 0：霍尔正常 2：霍尔未连接                                                                                                                                                                                                                                                                                                                                                    |
| 霍尔传感器数据           | Hall Sensor Data                                            | 0x3677     | 0x00       | UNS8         | 0~127                          | RO           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 霍尔状态对应电角度表     | Hall State Electrical Angle Table                           | 0x35A2     | 0x00       | UNS8         | 0~5                            | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电角度偏移值             | Electrical Angle Offset                                     | 0x35A4     | 0x00       | UNS32        | 0~4294967295                   | RO           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机转子惯量（旋转电机） | Motor Rotor Inertia                                         | 0x3516     | 0x00       | UNS32        | 0~4294967295                   | RW           | gcm2    |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机动子质量（直线电机） | Motor Mover Mass                                            | 0x35C4     | 0x00       | UNS32        | 0~4294967295                   | RW           | g        |                                                                                                                                                                                                                                                                                                                                                                              |
|                          |                                                             |            |            |              |                                |              |          |                                                                                                                                                                                                                                                                                                                                                                              |
|                          |                                                             |            |            |              |                                |              |          |                                                                                                                                                                                                                                                                                                                                                                              |
电气辨识模式相关参数
电气辨识模式指令参数
| 参数名称       | 字典名称                              | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ------------------ | ----------------------------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 运行模式指令       | Operation Mode Command                    | 0x6060     | 0x00       | INTEGER8     | -128~127     | RW           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 控制字             | DS402 Controlword                         | 0x6040     | 0x00       | UNS16        | 0~65535      | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机额定电流       | Motor Continuous Current                  | 0x6075     | 0x00       | INTEGER32    | 0~4294967295 | RW           | mA       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流频率       | Identification Current Frequency          | 0x3502     | 0x00       | UNS32        | 1~4294967295 | RW           | Hz       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流幅度相对值 | Identification Current Amplitude Relative | 0x3503     | 0x00       | UNS32        | 1~200        | RW           | %        |                                                                                                                                                                                                                                                                                                                                                                              |
运行模式指令 6060h-00h
运动模式（0x6060-0x00）设置为 0xFF 时，表示电气辨识模式，此时当前运行模式（0x6061-0x00）为 0xFF。任意运行模式在使能或者失能的状态下都可以切换到电气辨识模式。
注：任何辨识模式都不响应暂停指令。
控制字 6040h-00h
控制字释义表
| bit   | 名称                    | 含义（中文）         | 描述                              |
| ----- | ----------------------- | -------------------- | --------------------------------- |
| 0     | switch on               | 伺服准备好           | 0：无效 1：有效                   |
| 1     | enable voltage          | 伺服已接通电源       | 0：无效 1：有效                   |
| 2     | quick  stop             | 快速停机             | 1：无效 0：有效                   |
| 3     | enable operation        | 伺服运行             | 0：无效 1：有效                   |
| 4~6   | operation mode specific | 不同运行模式含义不同 |                                   |
| 7     | fault                   | 故障                 | 0->1：有效 0->0、1->1、1->0：无效 |
| 8     | halt                    | 暂停                 | 0：无效 1：有效                   |
| 9~10  | reserved                | 预留                 |                                   |
| 11~15 | manufacturer specific   | 厂家自定义           |                                   |
电气辨识模式下 bit4~bit6
| bit | 含义     | 描述   |
| --- | -------- | ------ |
| 4   | reserved | 未定义 |
| 5   | reserved | 未定义 |
| 6   | reserved | 未定义 |
电气辨识模式下的控制命令和状态切换
| 操作         | 控制字 6040h | 驱动器状态         | 状态字 6041h |
| ------------ | ------------ | ------------------ | ------------ |
| 伺服失能     | 0x05         | switch on disabled | 0x250        |
| 伺服未准备好 | 0x06         | ready to switch on | 0x231        |
| 伺服使能     | 0x0F         | operation enable   | 0x237        |
辨识电流频率 3502h-00h
用于电气辨识，一般使用默认值即可，不用修改。
辨识电流幅度相对值 3503h-00h
辨识电流占电机额定电流的百分比。
应用于电气辨识、方向辨识、极对数辨识、霍尔辨识、Z 相辨识、电角度辨识、转矩脉动辨识。
注：在一般情况下不需要设置这个参数，在电机电感较小（小于 100uH），可以适当提高辨识电流幅值以获得更加准确得电机电感参数。
电气辨识模式监测参数
| 参数名称 | 字典名称           | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ------------ | ---------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 状态字       | DS402 Statusword       | 0x6041     | 0x00       | UNS16        | -            | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机运行状态 | Motor Operation Status | 0x3005     | 0x00       | UNS8         | 0~255        | RO           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 当前运行模式 | Operation Mode Actual  | 0x6061     | 0x00       | INTEGER8     | -            | RO           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 辨识状态     | Identification State   | 0x3008     | 0x00       | UNS8         | 0~127        | RO           | -        | 0：启动开始空闲状态 1：辨识成功 2：电气辨识中 3：方向辨识中 4：机械辨识中 5：转矩脉动辨识中 255：错误状态                                                                                                                                                                                                                                                                    |
| 电机相间电感 | Motor Inductance       | 0x3513     | 0x00       | UNS32        | 1~4294967295 | RW           | uH       |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机相间电阻 | Motor Resistance       | 0x3514     | 0x00       | UNS32        | 1~4294967295 | RW           | momh     |                                                                                                                                                                                                                                                                                                                                                                              |
状态字 6041h-00h
状态字释义表
| bit   | 名称                    | 含义             | 描述                                                                          |
| ----- | ----------------------- | ---------------- | ----------------------------------------------------------------------------- |
| 0     | ready to switch on      | 伺服未准备好     | 0：无效 1：有效                                                               |
| 1     | switched on             | 伺服已接通 PWM   | 0：无效 1：有效                                                               |
| 2     | operation enabled       | 伺服使能         | 0：无效 1：有效                                                               |
| 3     | fault                   | 故障             | 0：无效 1：有效                                                               |
| 4     | voltage enabled         | 驱动器已接通电源 | 0：无效 1：有效                                                               |
| 5     | quick stop              | 急停             | 0：无效 1：有效                                                               |
| 6     | switch on disabled      | 伺服未接通 PWM   | 0：无效 1：有效                                                               |
| 7     | warning                 | 警告             | 0：无效 1：有效                                                               |
| 8     | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
| 9     | remote                  | 远程控制         | 0：非 CANopen 模式 1：CANopen 远程控制模式                                    |
| 10    | target reached          | 目标已到达       | 0：无效 1：有效                                                               |
| 11    | internal limit active   | 软件内部位置超限 | 0：位置指令或反馈未到达软件内部位置限制 1：位置指令或反馈达到软件内部位置限制 |
| 12~13 | operation mode specific | 运行模式定义状态 | 与运行模式有关                                                                |
| 14~15 | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
状态字bit0-bit3，bit5，bit6 定义
| Value(binary)指令值 | State状态      |
| --------------------------- | ---------------------- |
| xxxx xxxx x0xx 0000         | Not ready to switch on |
| xxxx xxxx x1xx 0000         | Switch on disabled     |
| xxxx xxxx x01x 0001         | Ready to switch on     |
| xxxx xxxx x01x 0011         | Switched on            |
| xxxx xxxx x01x 0111         | Operation enabled      |
| xxxx xxxx x00x 0111         | Quick stop active      |
| xxxx xxxx x0xx 1111         | Fault reaction active  |
| xxxx xxxx x0xx 1000         | Fault                  |
状态字Bit10、Bit12、Bit13 定义
| Bit | Value | Definition含义 |
| ------- | --------- | ---------------------- |
| 10      | -         | 未定义                 |
| 11      | -         | 未定义                 |
| 12      | -         | 未定义                 |
| 13      | -         | 未定义                 |
电机运行状态 3005h-00h
电机状态与伺服状态关系
| 402 状态               | 电机状态 |
| ---------------------- | -------- |
| Not ready to switch on | 电机失能 |
| Switch on disabled     | 电机失能 |
| Ready to switch on     | 电机失能 |
| Switched on            | 电机失能 |
| Operation enabled      | 电机使能 |
| Quick stop active      | 电机使能 |
| Fault                  | 电机失能 |
当前运行模式 6061h-00h
反馈当前运行模式，出厂设置为 0，表示空模式，空模式可以切换到任意模式。
当运行模式指令 = 0xFF(-1)时，当前运行模式 = 0xFF(-1)。
辨识状态 3005h-00h
| 值  | 含义             |
| --- | ---------------- |
| 0   | 启动开启空闲状态 |
| 1   | 辨识成功         |
| 2   | 电气辨识中       |
| 3   | 方向辨识中       |
| 4   | 机械辨识中       |
| 5   | 转矩脉动辨识中   |
| 255 | 辨识错误         |
电机相间电感 3513h-00h
通过电气辨识可以辨识出电机相间电感，电气辨识需要在空载下进行辨识。
电机相间电阻 3514h-00h
通过电气辨识可以辨识出电机相间电阻，电气辨识需要在空载下进行辨识。
极对数辨识模式相关参数
极对数辨识模式指令参数
| 参数名称           | 字典名称                                | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ---------------------- | ------------------------------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 运行模式指令           | Operation Mode Command                      | 0x6060     | 0x00       | INTEGER8     | -128~127     | RW           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 控制字                 | DS402 Controlword                           | 0x6040     | 0x00       | UNS16        | 0~65535      | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机额定电流           | Motor Continuous Current                    | 0x6075     | 0x00       | INTEGER32    | 0~4294967295 | RW           | mA       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流幅度相对值     | Identification Current Amplitude Relative   | 0x3503     | 0x00       | UNS32        | 1~200        | RW           | %        |                                                                                                                                                                                                                                                                                                                                                                              |
| 极对数辨识运行电周期数 | Pole Pairs Identification Electrical Cycles | 0x355B     | 0x00       | UNS32        | 1~4294967295 | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 极对数辨识等待稳定时间 | Pole Pairs Identification Wait Time         | 0x355C     | 0x00       | UNS32        | 1~4294967295 | RW           | ms       |                                                                                                                                                                                                                                                                                                                                                                              |
运行模式指令 6060h-00h
运动模式（0x6060-0x00）设置为 0xFC 时，表示极对数辨识模式，此时当前运行模式（0x6061-0x00）为 0xFC。任意运行模式在使能或者失能的状态下都可以切换到极对数辨识模式。
注：任何辨识模式都不响应暂停指令。
控制字 6040h-00h
控制字释义表
| bit   | 名称                    | 含义（中文）         | 描述                              |
| ----- | ----------------------- | -------------------- | --------------------------------- |
| 0     | switch on               | 伺服准备好           | 0：无效 1：有效                   |
| 1     | enable voltage          | 伺服已接通电源       | 0：无效 1：有效                   |
| 2     | quick  stop             | 快速停机             | 1：无效 0：有效                   |
| 3     | enable operation        | 伺服运行             | 0：无效 1：有效                   |
| 4~6   | operation mode specific | 不同运行模式含义不同 |                                   |
| 7     | fault                   | 故障                 | 0->1：有效 0->0、1->1、1->0：无效 |
| 8     | halt                    | 暂停                 | 0：无效 1：有效                   |
| 9~10  | reserved                | 预留                 |                                   |
| 11~15 | manufacturer specific   | 厂家自定义           |                                   |
极对数辨识模式下 bit4~bit6
| bit | 含义     | 描述   |
| --- | -------- | ------ |
| 4   | reserved | 未定义 |
| 5   | reserved | 未定义 |
| 6   | reserved | 未定义 |
极对数辨识模式下的控制命令和状态切换
| 操作         | 控制字 6040h | 驱动器状态         | 状态字 6041h |
| ------------ | ------------ | ------------------ | ------------ |
| 伺服失能     | 0x05         | switch on disabled | 0x250        |
| 伺服未准备好 | 0x06         | ready to switch on | 0x231        |
| 伺服使能     | 0x0F         | operation enable   | 0x237        |
辨识电流幅度相对值 3503h-00h
辨识电流占电机额定电流的百分比。
应用于电气辨识、方向辨识、极对数辨识、霍尔辨识、Z 相辨识、电角度辨识、转矩脉动辨识。
极对数辨识运行电周期数 355Bh-00h
用于极对数辨识，一般使用默认值即可，不用修改。
极对数辨识等待稳定时间 355Ch-00h
用于极对数辨识，一般使用默认值即可，不用修改。
极对数辨识模式监测参数
| 参数名称           | 字典名称           | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ---------------------- | ---------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 状态字                 | DS402 Statusword       | 0x6041     | 0x00       | UNS16        | -            | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机运行状态           | Motor Operation Status | 0x3005     | 0x00       | UNS8         | 0~255        | RO           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 当前运行模式           | Operation Mode Actual  | 0x6061     | 0x00       | INTEGER8     | -            | RO           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 辨识状态               | Identification State   | 0x3008     | 0x00       | UNS8         | 0~127        | RO           | -        | 0：启动开始空闲状态 1：辨识成功 2：电气辨识中 3：方向辨识中 4：机械辨识中 5：转矩脉动辨识中 255：错误状态                                                                                                                                                                                                                                                                    |
| 电机极对数（旋转电机） | Motor Pole Pairs       | 0x3515     | 0x00       | UNS32        | 1~4294967295 | RW           | uH       |                                                                                                                                                                                                                                                                                                                                                                              |
状态字 6041h-00h
状态字释义表
| bit   | 名称                    | 含义             | 描述                                                                          |
| ----- | ----------------------- | ---------------- | ----------------------------------------------------------------------------- |
| 0     | ready to switch on      | 伺服未准备好     | 0：无效 1：有效                                                               |
| 1     | switched on             | 伺服已接通 PWM   | 0：无效 1：有效                                                               |
| 2     | operation enabled       | 伺服使能         | 0：无效 1：有效                                                               |
| 3     | fault                   | 故障             | 0：无效 1：有效                                                               |
| 4     | voltage enabled         | 驱动器已接通电源 | 0：无效 1：有效                                                               |
| 5     | quick stop              | 急停             | 0：无效 1：有效                                                               |
| 6     | switch on disabled      | 伺服未接通 PWM   | 0：无效 1：有效                                                               |
| 7     | warning                 | 警告             | 0：无效 1：有效                                                               |
| 8     | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
| 9     | remote                  | 远程控制         | 0：非 CANopen 模式 1：CANopen 远程控制模式                                    |
| 10    | target reached          | 目标已到达       | 0：无效 1：有效                                                               |
| 11    | internal limit active   | 软件内部位置超限 | 0：位置指令或反馈未到达软件内部位置限制 1：位置指令或反馈达到软件内部位置限制 |
| 12~13 | operation mode specific | 运行模式定义状态 | 与运行模式有关                                                                |
| 14~15 | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
状态字bit0-bit3，bit5，bit6 定义
| Value(binary)指令值 | State状态      |
| --------------------------- | ---------------------- |
| xxxx xxxx x0xx 0000         | Not ready to switch on |
| xxxx xxxx x1xx 0000         | Switch on disabled     |
| xxxx xxxx x01x 0001         | Ready to switch on     |
| xxxx xxxx x01x 0011         | Switched on            |
| xxxx xxxx x01x 0111         | Operation enabled      |
| xxxx xxxx x00x 0111         | Quick stop active      |
| xxxx xxxx x0xx 1111         | Fault reaction active  |
| xxxx xxxx x0xx 1000         | Fault                  |
状态字Bit10、Bit12、Bit13 定义
| Bit | Value | Definition含义 |
| ------- | --------- | ---------------------- |
| 10      | -         | 未定义                 |
| 11      | -         | 未定义                 |
| 12      | -         | 未定义                 |
| 13      | -         | 未定义                 |
电机运行状态 3005h-00h
电机状态与伺服状态关系
| 402 状态               | 电机状态 |
| ---------------------- | -------- |
| Not ready to switch on | 电机失能 |
| Switch on disabled     | 电机失能 |
| Ready to switch on     | 电机失能 |
| Switched on            | 电机失能 |
| Operation enabled      | 电机使能 |
| Quick stop active      | 电机使能 |
| Fault                  | 电机失能 |
当前运行模式 6061h-00h
反馈当前运行模式，出厂设置为 0，表示空模式，空模式可以切换到任意模式。
当运行模式指令 = 0xFC(-4)时，当前运行模式 = 0xFC(-4)。
辨识状态 3005h-00h
| 值  | 含义             |
| --- | ---------------- |
| 0   | 启动开启空闲状态 |
| 1   | 辨识成功         |
| 2   | 电气辨识中       |
| 3   | 方向辨识中       |
| 4   | 机械辨识中       |
| 5   | 转矩脉动辨识中   |
| 255 | 辨识错误         |
电机极对数 3535h-00h
通过极对数辨识可以辨识出旋转电机的电机极对数。用户也可以根据电机参数手动输入此值。
方向辨识模式相关参数
方向辨识模式指令参数
| 参数名称       | 字典名称                              | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ------------------ | ----------------------------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 运行模式指令       | Operation Mode Command                    | 0x6060     | 0x00       | INTEGER8     | -128~127     | RW           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 控制字             | DS402 Controlword                         | 0x6040     | 0x00       | UNS16        | 0~65535      | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机额定电流       | Motor Continuous Current                  | 0x6075     | 0x00       | INTEGER32    | 0~4294967295 | RW           | mA       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流频率       | Identification Current Frequency          | 0x3502     | 0x00       | UNS32        | 1~4294967295 | RW           | Hz       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流幅度相对值 | Identification Current Amplitude Relative | 0x3503     | 0x00       | UNS32        | 1~200        | RW           | %        |                                                                                                                                                                                                                                                                                                                                                                              |
| 方向辨识距离       | Direction Identification Distance         | 0x355D     | 0x00       | UNS32        | 1~100000     | RW           |          |                                                                                                                                                                                                                                                                                                                                                                              |
运行模式指令 6060h-00h
运动模式（0x6060-0x00）设置为 0xFE 时，表示方向辨识模式，此时当前运行模式（0x6061-0x00）为 0xFE。任意运行模式在使能或者失能的状态下都可以切换到方向辨识模式。
注：任何辨识模式都不响应暂停指令。
控制字 6040h-00h
控制字释义表
| bit   | 名称                    | 含义（中文）         | 描述                              |
| ----- | ----------------------- | -------------------- | --------------------------------- |
| 0     | switch on               | 伺服准备好           | 0：无效 1：有效                   |
| 1     | enable voltage          | 伺服已接通电源       | 0：无效 1：有效                   |
| 2     | quick  stop             | 快速停机             | 1：无效 0：有效                   |
| 3     | enable operation        | 伺服运行             | 0：无效 1：有效                   |
| 4~6   | operation mode specific | 不同运行模式含义不同 |                                   |
| 7     | fault                   | 故障                 | 0->1：有效 0->0、1->1、1->0：无效 |
| 8     | halt                    | 暂停                 | 0：无效 1：有效                   |
| 9~10  | reserved                | 预留                 |                                   |
| 11~15 | manufacturer specific   | 厂家自定义           |                                   |
方向辨识模式下 bit4~bit6
| bit | 含义     | 描述   |
| --- | -------- | ------ |
| 4   | reserved | 未定义 |
| 5   | reserved | 未定义 |
| 6   | reserved | 未定义 |
方向辨识模式下的控制命令和状态切换
| 操作         | 控制字 6040h | 驱动器状态         | 状态字 6041h |
| ------------ | ------------ | ------------------ | ------------ |
| 伺服失能     | 0x05         | switch on disabled | 0x250        |
| 伺服未准备好 | 0x06         | ready to switch on | 0x231        |
| 伺服使能     | 0x0F         | operation enable   | 0x237        |
辨识电流幅度相对值 3503h-00h
辨识电流占电机额定电流的百分比。
应用于电气辨识、方向辨识、极对数辨识、霍尔辨识、Z 相辨识、电角度辨识、转矩脉动辨识。
方向辨识距离 355Dh-00h
用于方向辨识，一般使用默认值，不用修改。
方向辨识模式监测参数
| 参数名称       | 字典名称                      | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ------------------ | --------------------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 状态字             | DS402 Statusword                  | 0x6041     | 0x00       | UNS16        | -            | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机运行状态       | Motor Operation Status            | 0x3005     | 0x00       | UNS8         | 0~255        | RO           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 当前运行模式       | Operation Mode Actual             | 0x6061     | 0x00       | INTEGER8     | -            | RO           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 辨识状态           | Identification State              | 0x3008     | 0x00       | UNS8         | 0~127        | RO           | -        | 0：启动开始空闲状态 1：辨识成功 2：电气辨识中 3：方向辨识中 4：机械辨识中 5：转矩脉动辨识中 255：错误状态                                                                                                                                                                                                                                                                    |
| 电机端位置反馈方向 | Motor Position Feedback Direction | 0x359A     | 0x01       | INTEGER8     | -128~127     | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 负载端位置反馈方向 | Load Position Feedback Direction  | 0x359A     | 0x02       | INTEGER8     | -128~127     | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
状态字 6041h-00h
状态字释义表
| bit   | 名称                    | 含义             | 描述                                                                          |
| ----- | ----------------------- | ---------------- | ----------------------------------------------------------------------------- |
| 0     | ready to switch on      | 伺服未准备好     | 0：无效 1：有效                                                               |
| 1     | switched on             | 伺服已接通 PWM   | 0：无效 1：有效                                                               |
| 2     | operation enabled       | 伺服使能         | 0：无效 1：有效                                                               |
| 3     | fault                   | 故障             | 0：无效 1：有效                                                               |
| 4     | voltage enabled         | 驱动器已接通电源 | 0：无效 1：有效                                                               |
| 5     | quick stop              | 急停             | 0：无效 1：有效                                                               |
| 6     | switch on disabled      | 伺服未接通 PWM   | 0：无效 1：有效                                                               |
| 7     | warning                 | 警告             | 0：无效 1：有效                                                               |
| 8     | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
| 9     | remote                  | 远程控制         | 0：非 CANopen 模式 1：CANopen 远程控制模式                                    |
| 10    | target reached          | 目标已到达       | 0：无效 1：有效                                                               |
| 11    | internal limit active   | 软件内部位置超限 | 0：位置指令或反馈未到达软件内部位置限制 1：位置指令或反馈达到软件内部位置限制 |
| 12~13 | operation mode specific | 运行模式定义状态 | 与运行模式有关                                                                |
| 14~15 | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
状态字bit0-bit3，bit5，bit6 定义
| Value(binary)指令值 | State状态      |
| --------------------------- | ---------------------- |
| xxxx xxxx x0xx 0000         | Not ready to switch on |
| xxxx xxxx x1xx 0000         | Switch on disabled     |
| xxxx xxxx x01x 0001         | Ready to switch on     |
| xxxx xxxx x01x 0011         | Switched on            |
| xxxx xxxx x01x 0111         | Operation enabled      |
| xxxx xxxx x00x 0111         | Quick stop active      |
| xxxx xxxx x0xx 1111         | Fault reaction active  |
| xxxx xxxx x0xx 1000         | Fault                  |
状态字Bit10、Bit12、Bit13 定义
| Bit | Value | Definition含义 |
| ------- | --------- | ---------------------- |
| 10      | -         | 未定义                 |
| 11      | -         | 未定义                 |
| 12      | -         | 未定义                 |
| 13      | -         | 未定义                 |
电机运行状态 3005h-00h
电机状态与伺服状态关系
| 402 状态               | 电机状态 |
| ---------------------- | -------- |
| Not ready to switch on | 电机失能 |
| Switch on disabled     | 电机失能 |
| Ready to switch on     | 电机失能 |
| Switched on            | 电机失能 |
| Operation enabled      | 电机使能 |
| Quick stop active      | 电机使能 |
| Fault                  | 电机失能 |
当前运行模式 6061h-00h
反馈当前运行模式，出厂设置为 0，表示空模式，空模式可以切换到任意模式。
当运行模式指令 = 0xFE(-2)时，当前运行模式 = 0xFE(-2)。
辨识状态 3005h-00h
| 值  | 含义             |
| --- | ---------------- |
| 0   | 启动开启空闲状态 |
| 1   | 辨识成功         |
| 2   | 电气辨识中       |
| 3   | 方向辨识中       |
| 4   | 机械辨识中       |
| 5   | 转矩脉动辨识中   |
| 255 | 辨识错误         |
电机端位置反馈方向 359Ah-01h
电机端位置反馈方向，即编码器 1 方向。
负载端位置反馈方向 359A-h-02h
负载端位置反馈方向，即编码器 2 方向。
Z 相辨识模式相关参数
Z 相辨识模式指令参数
| 参数名称       | 字典名称                              | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ------------------ | ----------------------------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 运行模式指令       | Operation Mode Command                    | 0x6060     | 0x00       | INTEGER8     | -128~127     | RW           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 控制字             | DS402 Controlword                         | 0x6040     | 0x00       | UNS16        | 0~65535      | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机额定电流       | Motor Continuous Current                  | 0x6075     | 0x00       | INTEGER32    | 0~4294967295 | RW           | mA       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流频率       | Identification Current Frequency          | 0x3502     | 0x00       | UNS32        | 1~4294967295 | RW           | Hz       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流幅度相对值 | Identification Current Amplitude Relative | 0x3503     | 0x00       | UNS32        | 1~200        | RW           | %        |                                                                                                                                                                                                                                                                                                                                                                              |
运行模式指令 6060h-00h
运动模式（0x6060-0x00）设置为 0xFB 时，表示 Z 相辨识模式，此时当前运行模式（0x6061-0x00）为 0xFB。任意运行模式在使能或者失能的状态下都可以切换到 Z 相辨识模式。
注：任何辨识模式都不响应暂停指令。
控制字 6040h-00h
控制字释义表
| bit   | 名称                    | 含义（中文）         | 描述                              |
| ----- | ----------------------- | -------------------- | --------------------------------- |
| 0     | switch on               | 伺服准备好           | 0：无效 1：有效                   |
| 1     | enable voltage          | 伺服已接通电源       | 0：无效 1：有效                   |
| 2     | quick  stop             | 快速停机             | 1：无效 0：有效                   |
| 3     | enable operation        | 伺服运行             | 0：无效 1：有效                   |
| 4~6   | operation mode specific | 不同运行模式含义不同 |                                   |
| 7     | fault                   | 故障                 | 0->1：有效 0->0、1->1、1->0：无效 |
| 8     | halt                    | 暂停                 | 0：无效 1：有效                   |
| 9~10  | reserved                | 预留                 |                                   |
| 11~15 | manufacturer specific   | 厂家自定义           |                                   |
Z 相辨识模式下 bit4~bit6
| bit | 含义     | 描述   |
| --- | -------- | ------ |
| 4   | reserved | 未定义 |
| 5   | reserved | 未定义 |
| 6   | reserved | 未定义 |
Z 相辨识模式下的控制命令和状态切换
| 操作         | 控制字 6040h | 驱动器状态         | 状态字 6041h |
| ------------ | ------------ | ------------------ | ------------ |
| 伺服失能     | 0x05         | switch on disabled | 0x250        |
| 伺服未准备好 | 0x06         | ready to switch on | 0x231        |
| 伺服使能     | 0x0F         | operation enable   | 0x237        |
辨识电流幅度相对值 3503h-00h
辨识电流占电机额定电流的百分比。
应用于电气辨识、方向辨识、极对数辨识、霍尔辨识、Z 相辨识、电角度辨识、转矩脉动辨识。
Z 相辨识模式监测参数
| 参数名称   | 字典名称                | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| -------------- | --------------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 状态字         | DS402 Statusword            | 0x6041     | 0x00       | UNS16        | -            | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机运行状态   | Motor Operation Status      | 0x3005     | 0x00       | UNS8         | 0~255        | RO           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 当前运行模式   | Operation Mode Actual       | 0x6061     | 0x00       | INTEGER8     | -            | RO           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 辨识状态       | Identification State        | 0x3008     | 0x00       | UNS8         | 0~127        | RO           | -        | 0：启动开始空闲状态 1：辨识成功 2：电气辨识中 3：方向辨识中 4：机械辨识中 5：转矩脉动辨识中 255：错误状态                                                                                                                                                                                                                                                                    |
| Z 相对应电角度 | Zero Pulse Electrical Angle | 0x35A3     | 0x00       | UNS32        | 0~4294967295 | RO           | 1000*rad |                                                                                                                                                                                                                                                                                                                                                                              |
状态字 6041h-00h
状态字释义表
| bit   | 名称                    | 含义             | 描述                                                                          |
| ----- | ----------------------- | ---------------- | ----------------------------------------------------------------------------- |
| 0     | ready to switch on      | 伺服未准备好     | 0：无效 1：有效                                                               |
| 1     | switched on             | 伺服已接通 PWM   | 0：无效 1：有效                                                               |
| 2     | operation enabled       | 伺服使能         | 0：无效 1：有效                                                               |
| 3     | fault                   | 故障             | 0：无效 1：有效                                                               |
| 4     | voltage enabled         | 驱动器已接通电源 | 0：无效 1：有效                                                               |
| 5     | quick stop              | 急停             | 0：无效 1：有效                                                               |
| 6     | switch on disabled      | 伺服未接通 PWM   | 0：无效 1：有效                                                               |
| 7     | warning                 | 警告             | 0：无效 1：有效                                                               |
| 8     | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
| 9     | remote                  | 远程控制         | 0：非 CANopen 模式 1：CANopen 远程控制模式                                    |
| 10    | target reached          | 目标已到达       | 0：无效 1：有效                                                               |
| 11    | internal limit active   | 软件内部位置超限 | 0：位置指令或反馈未到达软件内部位置限制 1：位置指令或反馈达到软件内部位置限制 |
| 12~13 | operation mode specific | 运行模式定义状态 | 与运行模式有关                                                                |
| 14~15 | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
状态字bit0-bit3，bit5，bit6 定义
| Value(binary)指令值 | State状态      |
| --------------------------- | ---------------------- |
| xxxx xxxx x0xx 0000         | Not ready to switch on |
| xxxx xxxx x1xx 0000         | Switch on disabled     |
| xxxx xxxx x01x 0001         | Ready to switch on     |
| xxxx xxxx x01x 0011         | Switched on            |
| xxxx xxxx x01x 0111         | Operation enabled      |
| xxxx xxxx x00x 0111         | Quick stop active      |
| xxxx xxxx x0xx 1111         | Fault reaction active  |
| xxxx xxxx x0xx 1000         | Fault                  |
状态字Bit10、Bit12、Bit13 定义
| Bit | Value | Definition含义 |
| ------- | --------- | ---------------------- |
| 10      | -         | 未定义                 |
| 11      | -         | 未定义                 |
| 12      | -         | 未定义                 |
| 13      | -         | 未定义                 |
电机运行状态 3005h-00h
电机状态与伺服状态关系
| 402 状态               | 电机状态 |
| ---------------------- | -------- |
| Not ready to switch on | 电机失能 |
| Switch on disabled     | 电机失能 |
| Ready to switch on     | 电机失能 |
| Switched on            | 电机失能 |
| Operation enabled      | 电机使能 |
| Quick stop active      | 电机使能 |
| Fault                  | 电机失能 |
当前运行模式 6061h-00h
反馈当前运行模式，出厂设置为 0，表示空模式，空模式可以切换到任意模式。
当运行模式指令 = 0xFB(-5)时，当前运行模式 = 0xFB(-5)。
辨识状态 3005h-00h
| 值 | 含义         |
| ------ | ---------------- |
| 0      | 启动开启空闲状态 |
| 1      | 辨识成功         |
| 2      | 电气辨识中       |
| 3      | 方向辨识中       |
| 4      | 机械辨识中       |
| 5      | 转矩脉动辨识中   |
| 255    | 辨识错误         |
Z 相对应电角度 35A3h-00h
用于 ABZ+HALL 系统的启动。保存参数后系统复位，第一次启动电机，电机将先使用霍尔电角度进行换向，当检测到 Z 相后将自动切换成编码器对应的电角度，同时会刷新电角度偏移值。
霍尔模式相关参数
霍尔辨识模式指令参数
| 参数名称       | 字典名称                              | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ------------------ | ----------------------------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 运行模式指令       | Operation Mode Command                    | 0x6060     | 0x00       | INTEGER8     | -128~127     | RW           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 控制字             | DS402 Controlword                         | 0x6040     | 0x00       | UNS16        | 0~65535      | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机额定电流       | Motor Continuous Current                  | 0x6075     | 0x00       | INTEGER32    | 0~4294967295 | RW           | mA       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流幅度相对值 | Identification Current Amplitude Relative | 0x3503     | 0x00       | UNS32        | 1~200        | RW           | %        |                                                                                                                                                                                                                                                                                                                                                                              |
| 霍尔类型           | Hall Type                                 | 0x3532     | 0x00       | UNS8         | 0~1          | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
运行模式指令 6060h-00h
运动模式（0x6060-0x00）设置为 0xFD 时，表示霍尔辨识模式，此时当前运行模式（0x6061-0x00）为 0xFD。任意运行模式在使能或者失能的状态下都可以切换到霍尔辨识模式。
注：任何辨识模式都不响应暂停指令。
控制字 6040h-00h
控制字释义表
| bit   | 名称                    | 含义（中文）         | 描述                              |
| ----- | ----------------------- | -------------------- | --------------------------------- |
| 0     | switch on               | 伺服准备好           | 0：无效 1：有效                   |
| 1     | enable voltage          | 伺服已接通电源       | 0：无效 1：有效                   |
| 2     | quick  stop             | 快速停机             | 1：无效 0：有效                   |
| 3     | enable operation        | 伺服运行             | 0：无效 1：有效                   |
| 4~6   | operation mode specific | 不同运行模式含义不同 |                                   |
| 7     | fault                   | 故障                 | 0->1：有效 0->0、1->1、1->0：无效 |
| 8     | halt                    | 暂停                 | 0：无效 1：有效                   |
| 9~10  | reserved                | 预留                 |                                   |
| 11~15 | manufacturer specific   | 厂家自定义           |                                   |
霍尔辨识模式下 bit4~bit6
| bit | 含义     | 描述   |
| --- | -------- | ------ |
| 4   | reserved | 未定义 |
| 5   | reserved | 未定义 |
| 6   | reserved | 未定义 |
霍尔辨识模式下的控制命令和状态切换
| 操作         | 控制字 6040h | 驱动器状态         | 状态字 6041h |
| ------------ | ------------ | ------------------ | ------------ |
| 伺服失能     | 0x05         | switch on disabled | 0x250        |
| 伺服未准备好 | 0x06         | ready to switch on | 0x231        |
| 伺服使能     | 0x0F         | operation enable   | 0x237        |
辨识电流幅度相对值 3503h-00h
辨识电流占电机额定电流的百分比。
应用于电气辨识、方向辨识、极对数辨识、霍尔辨识、Z 相辨识、电角度辨识、转矩脉动辨识。
注：在一般情况下不需要设置这个参数，在电机电感较小（小于 100uH），可以适当提高辨识电流幅值以获得更加准确得电机电感参数。
霍尔类型 3532h-00h
目前仅支持 120° 霍尔。进行霍尔辨识前，需要先选择霍尔类型。
霍尔辨识模式监测参数
| 参数名称         | 字典名称                      | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| -------------------- | --------------------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 状态字               | DS402 Statusword                  | 0x6041     | 0x00       | UNS16        | -            | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机运行状态         | Motor Operation Status            | 0x3005     | 0x00       | UNS8         | 0~255        | RO           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 当前运行模式         | Operation Mode Actual             | 0x6061     | 0x00       | INTEGER8     | -            | RO           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 辨识状态             | Identification State              | 0x3008     | 0x00       | UNS8         | 0~127        | RO           | -        | 0：启动开始空闲状态 1：辨识成功 2：电气辨识中 3：方向辨识中 4：机械辨识中 5：转矩脉动辨识中 255：错误状态                                                                                                                                                                                                                                                                    |
| 霍尔状态             | Hall Status                       | 0x3007     | 0x00       | UNS8         | 0~2          | RO           | -        | 0：霍尔正常 2：霍尔未连接                                                                                                                                                                                                                                                                                                                                                    |
| 霍尔传感器数据       | Hall Sensor Data                  | 0x3677     | 0x00       | UNS8         | 0~127        | RO           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 霍尔状态对应电角度表 | Hall State Electrical Angle Table | 0x35A2     | 0x00       | UNS8         | 0~5          | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
状态字 6041h-00h
状态字释义表
| bit   | 名称                    | 含义             | 描述                                                                          |
| ----- | ----------------------- | ---------------- | ----------------------------------------------------------------------------- |
| 0     | ready to switch on      | 伺服未准备好     | 0：无效 1：有效                                                               |
| 1     | switched on             | 伺服已接通 PWM   | 0：无效 1：有效                                                               |
| 2     | operation enabled       | 伺服使能         | 0：无效 1：有效                                                               |
| 3     | fault                   | 故障             | 0：无效 1：有效                                                               |
| 4     | voltage enabled         | 驱动器已接通电源 | 0：无效 1：有效                                                               |
| 5     | quick stop              | 急停             | 0：无效 1：有效                                                               |
| 6     | switch on disabled      | 伺服未接通 PWM   | 0：无效 1：有效                                                               |
| 7     | warning                 | 警告             | 0：无效 1：有效                                                               |
| 8     | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
| 9     | remote                  | 远程控制         | 0：非 CANopen 模式 1：CANopen 远程控制模式                                    |
| 10    | target reached          | 目标已到达       | 0：无效 1：有效                                                               |
| 11    | internal limit active   | 软件内部位置超限 | 0：位置指令或反馈未到达软件内部位置限制 1：位置指令或反馈达到软件内部位置限制 |
| 12~13 | operation mode specific | 运行模式定义状态 | 与运行模式有关                                                                |
| 14~15 | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
状态字bit0-bit3，bit5，bit6 定义
| Value(binary)指令值 | State状态      |
| --------------------------- | ---------------------- |
| xxxx xxxx x0xx 0000         | Not ready to switch on |
| xxxx xxxx x1xx 0000         | Switch on disabled     |
| xxxx xxxx x01x 0001         | Ready to switch on     |
| xxxx xxxx x01x 0011         | Switched on            |
| xxxx xxxx x01x 0111         | Operation enabled      |
| xxxx xxxx x00x 0111         | Quick stop active      |
| xxxx xxxx x0xx 1111         | Fault reaction active  |
| xxxx xxxx x0xx 1000         | Fault                  |
状态字Bit10、Bit12、Bit13 定义
| Bit | Value | Definition含义 |
| ------- | --------- | ---------------------- |
| 10      | -         | 未定义                 |
| 11      | -         | 未定义                 |
| 12      | -         | 未定义                 |
| 13      | -         | 未定义                 |
电机运行状态 3005h-00h
电机状态与伺服状态关系
| 402 状态               | 电机状态 |
| ---------------------- | -------- |
| Not ready to switch on | 电机失能 |
| Switch on disabled     | 电机失能 |
| Ready to switch on     | 电机失能 |
| Switched on            | 电机失能 |
| Operation enabled      | 电机使能 |
| Quick stop active      | 电机使能 |
| Fault                  | 电机失能 |
当前运行模式 6061h-00h
反馈当前运行模式，出厂设置为 0，表示空模式，空模式可以切换到任意模式。
当运行模式指令 = 0xFD(-5)时，当前运行模式 = 0xFD(-5)。
辨识状态 3005h-00h
| 值  | 含义             |
| --- | ---------------- |
| 0   | 启动开启空闲状态 |
| 1   | 辨识成功         |
| 2   | 电气辨识中       |
| 3   | 方向辨识中       |
| 4   | 机械辨识中       |
| 5   | 转矩脉动辨识中   |
| 255 | 辨识错误         |
霍尔状态 3007h-00h
| 值 | 含义       |
| -- | ---------- |
| 0  | 霍尔正常   |
| 2  | 霍尔未连接 |
霍尔传感器数据 3677h-00h
Hall 原始数据，按 bit 显示。
霍尔状态对应电角度表 35A2h-00h
霍尔辨识成功后输出，无需关注。
电角度辨识模式相关参数
电角度辨识模式指令参数
| 参数名称       | 字典名称                                                | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ------------------ | ----------------------------------------------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 运行模式指令       | Operation Mode Command                                      | 0x6060     | 0x00       | INTEGER8     | -128~127     | RW           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 控制字             | DS402 Controlword                                           | 0x6040     | 0x00       | UNS16        | 0~65535      | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机额定电流       | Motor Continuous Current                                    | 0x6075     | 0x00       | INTEGER32    | 0~4294967295 | RW           | mA       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流幅度相对值 | Identification Current Amplitude Relative                   | 0x3503     | 0x00       | UNS32        | 1~200        | RW           | %        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电角度辨识模式     | Electrical Angle Identification Mode                        | 0x3638     | 0x00       | UNS8         | 0~4          | RW           | -        | 0：强拉寻相 3：短距离寻相 4：矢量寻相                                                                                                                                                                                                                                                                                                                                        |
| 电角度辨识超时时间 | Electrical Angle Identification Timeout Time                | 0x3639     | 0x00       | UNS32        | 0~100000     | RW           | ms       |                                                                                                                                                                                                                                                                                                                                                                              |
| 电角度辨识参数 1   | Electrical Angle Identification Parameter 1                 | 0x3654     | 0x00       | UNS32        | 1~1000       | RW           | uH       |                                                                                                                                                                                                                                                                                                                                                                              |
| 电角度辨识参数 2   | Motor ResistanceElectrical Angle Identification Parameter 2 | 0x3655     | 0x00       | UNS32        | 1~1000       | RW           | momh     |                                                                                                                                                                                                                                                                                                                                                                              |
| 电角度辨识参数 3   | Electrical Angle Identification Parameter 3                 | 0x3656     | 0x00       | UNS32        | 1~2          | RW           |          |                                                                                                                                                                                                                                                                                                                                                                              |
运行模式指令 6060h-00h
运动模式（0x6060-0x00）设置为 0xFA 时，表示电角度辨识模式，此时当前运行模式（0x6061-0x00）为 0xFA。任意运行模式在使能或者失能的状态下都可以切换到电角度辨识模式。
注：任何辨识模式都不响应暂停指令。
控制字 6040h-00h
控制字释义表
| bit   | 名称                    | 含义（中文）         | 描述                              |
| ----- | ----------------------- | -------------------- | --------------------------------- |
| 0     | switch on               | 伺服准备好           | 0：无效 1：有效                   |
| 1     | enable voltage          | 伺服已接通电源       | 0：无效 1：有效                   |
| 2     | quick  stop             | 快速停机             | 1：无效 0：有效                   |
| 3     | enable operation        | 伺服运行             | 0：无效 1：有效                   |
| 4~6   | operation mode specific | 不同运行模式含义不同 |                                   |
| 7     | fault                   | 故障                 | 0->1：有效 0->0、1->1、1->0：无效 |
| 8     | halt                    | 暂停                 | 0：无效 1：有效                   |
| 9~10  | reserved                | 预留                 |                                   |
| 11~15 | manufacturer specific   | 厂家自定义           |                                   |
电角度辨识模式下 bit4~bit6
| bit | 含义     | 描述   |
| --- | -------- | ------ |
| 4   | reserved | 未定义 |
| 5   | reserved | 未定义 |
| 6   | reserved | 未定义 |
电角度辨识模式下的控制命令和状态切换
| 操作         | 控制字 6040h | 驱动器状态         | 状态字 6041h |
| ------------ | ------------ | ------------------ | ------------ |
| 伺服失能     | 0x05         | switch on disabled | 0x250        |
| 伺服未准备好 | 0x06         | ready to switch on | 0x231        |
| 伺服使能     | 0x0F         | operation enable   | 0x237        |
辨识电流幅度相对值 3503h-00h
辨识电流占电机额定电流的百分比。
应用于电气辨识、方向辨识、极对数辨识、霍尔辨识、Z 相辨识、电角度辨识、转矩脉动辨识。
注：在一般情况下不需要设置这个参数，在电机电感较小（小于 100uH），可以适当提高辨识电流幅值以获得更加准确得电机电感参数。
电角度辨识模式 3638h-00h
| 值 | 含义       | 描述                                      |
| -- | ---------- | ----------------------------------------- |
| 0  | 强拉寻相   | 适用于大部分旋转电机、直线电机。          |
| 3  | 短距离寻相 | 适用于行程较短的直线电机或音圈电机。      |
| 4  | 矢量寻相   | 适用于大惯量、直线电机 + 弹簧等特殊场景。 |
电角度辨识超时时间 3639h-00h
默认 40s，电角辨识时间超过 40s 后报电角度辨识错误。
电角度辨识参数 1 3654h-00h
寻相距离。仅适用于短距离寻相电角度辨识模式。一般使用默认值即可。
电角度辨识参数 2 3655h-00h
置信区间。仅适用于短距离寻相电角度辨识模式。一般使用默认值即可。
电角度参数 3 3656h-00h
电流上升时间。仅适用于短距离寻相电角度辨识模式。一般使用默认值即可。
电角度辨识模式监测参数
| 参数名称 | 字典名称            | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ------------ | ----------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 状态字       | DS402 Statusword        | 0x6041     | 0x00       | UNS16        | -            | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机运行状态 | Motor Operation Status  | 0x3005     | 0x00       | UNS8         | 0~255        | RO           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 当前运行模式 | Operation Mode Actual   | 0x6061     | 0x00       | INTEGER8     | -            | RO           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 辨识状态     | Identification State    | 0x3008     | 0x00       | UNS8         | 0~127        | RO           | -        | 0：启动开始空闲状态 1：辨识成功 2：电气辨识中 3：方向辨识中 4：机械辨识中 5：转矩脉动辨识中 255：错误状态                                                                                                                                                                                                                                                                    |
| 电角度偏移值 | Electrical Angle Offset | 0x35A4     | 0x00       | UNS32        | 0~4294967295 | RO           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
状态字 6041h-00h
状态字释义表
| bit   | 名称                    | 含义             | 描述                                                                          |
| ----- | ----------------------- | ---------------- | ----------------------------------------------------------------------------- |
| 0     | ready to switch on      | 伺服未准备好     | 0：无效 1：有效                                                               |
| 1     | switched on             | 伺服已接通 PWM   | 0：无效 1：有效                                                               |
| 2     | operation enabled       | 伺服使能         | 0：无效 1：有效                                                               |
| 3     | fault                   | 故障             | 0：无效 1：有效                                                               |
| 4     | voltage enabled         | 驱动器已接通电源 | 0：无效 1：有效                                                               |
| 5     | quick stop              | 急停             | 0：无效 1：有效                                                               |
| 6     | switch on disabled      | 伺服未接通 PWM   | 0：无效 1：有效                                                               |
| 7     | warning                 | 警告             | 0：无效 1：有效                                                               |
| 8     | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
| 9     | remote                  | 远程控制         | 0：非 CANopen 模式 1：CANopen 远程控制模式                                    |
| 10    | target reached          | 目标已到达       | 0：无效 1：有效                                                               |
| 11    | internal limit active   | 软件内部位置超限 | 0：位置指令或反馈未到达软件内部位置限制 1：位置指令或反馈达到软件内部位置限制 |
| 12~13 | operation mode specific | 运行模式定义状态 | 与运行模式有关                                                                |
| 14~15 | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
状态字bit0-bit3，bit5，bit6 定义
| Value(binary)指令值 | State状态      |
| --------------------------- | ---------------------- |
| xxxx xxxx x0xx 0000         | Not ready to switch on |
| xxxx xxxx x1xx 0000         | Switch on disabled     |
| xxxx xxxx x01x 0001         | Ready to switch on     |
| xxxx xxxx x01x 0011         | Switched on            |
| xxxx xxxx x01x 0111         | Operation enabled      |
| xxxx xxxx x00x 0111         | Quick stop active      |
| xxxx xxxx x0xx 1111         | Fault reaction active  |
| xxxx xxxx x0xx 1000         | Fault                  |
状态字Bit10、Bit12、Bit13 定义
| Bit | Value | Definition含义 |
| ------- | --------- | ---------------------- |
| 10      | -         | 未定义                 |
| 11      | -         | 未定义                 |
| 12      | -         | 未定义                 |
| 13      | -         | 未定义                 |
电机运行状态 3005h-00h
电机状态与伺服状态关系
| 402 状态               | 电机状态 |
| ---------------------- | -------- |
| Not ready to switch on | 电机失能 |
| Switch on disabled     | 电机失能 |
| Ready to switch on     | 电机失能 |
| Switched on            | 电机失能 |
| Operation enabled      | 电机使能 |
| Quick stop active      | 电机使能 |
| Fault                  | 电机失能 |
当前运行模式 6061h-00h
反馈当前运行模式，出厂设置为 0，表示空模式，空模式可以切换到任意模式。
当运行模式指令 = 0xFA(-6)时，当前运行模式 = 0xFA(-6)。
辨识状态 3005h-00h
| 值  | 含义             |
| --- | ---------------- |
| 0   | 启动开启空闲状态 |
| 1   | 辨识成功         |
| 2   | 电气辨识中       |
| 3   | 方向辨识中       |
| 4   | 机械辨识中       |
| 5   | 转矩脉动辨识中   |
| 255 | 辨识错误         |
电角度偏移值 35A4h-00h
电角度辨识成功后输出此值。
机械辨识模式相关参数
机械辨识模式指令参数
机械辨识模式监测参数
机械特性辨识模式相关参数
机械特性辨识模式指令参数
机械特性辨识模式监测参数
转矩脉动辨识模式相关参数
转矩脉动辨识模式指令参数
| 参数名称       | 字典名称                              | 主索引 | 子索引 | 数据类型 | 参数范围 | 读写权限 | 单位 | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| ------------------ | ----------------------------------------- | ---------- | ---------- | ------------ | ------------ | ------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 运行模式指令       | Operation Mode Command                    | 0x6060     | 0x00       | INTEGER8     | -128~127     | RW           | -        | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 控制字             | DS402 Controlword                         | 0x6040     | 0x00       | UNS16        | 0~65535      | RW           | -        |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机额定电流       | Motor Continuous Current                  | 0x6075     | 0x00       | INTEGER32    | 0~4294967295 | RW           | mA       |                                                                                                                                                                                                                                                                                                                                                                              |
| 辨识电流幅度相对值 | Identification Current Amplitude Relative | 0x3503     | 0x00       | UNS32        | 1~200        | RW           | %        |                                                                                                                                                                                                                                                                                                                                                                              |
| 转矩脉动补偿开关   | Torque Ripple Compensation Enable         | 0x3559     | 0x00       | UNS8         | 0~1          | RW           | -        | 0：关闭 1：开启                                                                                                                                                                                                                                                                                                                                                              |
| 摩擦补偿开关       | Friction Compensation Enable              | 0x355A     | 0x00       | UNS8         | 0~1          | RW           | -        | 0：关闭 1：开启                                                                                                                                                                                                                                                                                                                                                              |
运行模式指令 6060h-00h
运动模式（0x6060-0x00）设置为 0xF8 时，表示转矩脉动辨识模式，此时当前运行模式（0x6061-0x00）为 0xF8。任意运行模式在使能或者失能的状态下都可以切换到电转矩脉动辨识模式。
注：任何辨识模式都不响应暂停指令。
控制字 6040h-00h
控制字释义表
| bit   | 名称                    | 含义（中文）         | 描述                              |
| ----- | ----------------------- | -------------------- | --------------------------------- |
| 0     | switch on               | 伺服准备好           | 0：无效 1：有效                   |
| 1     | enable voltage          | 伺服已接通电源       | 0：无效 1：有效                   |
| 2     | quick  stop             | 快速停机             | 1：无效 0：有效                   |
| 3     | enable operation        | 伺服运行             | 0：无效 1：有效                   |
| 4~6   | operation mode specific | 不同运行模式含义不同 |                                   |
| 7     | fault                   | 故障                 | 0->1：有效 0->0、1->1、1->0：无效 |
| 8     | halt                    | 暂停                 | 0：无效 1：有效                   |
| 9~10  | reserved                | 预留                 |                                   |
| 11~15 | manufacturer specific   | 厂家自定义           |                                   |
转矩脉动辨识模式下 bit4~bit6
| bit | 含义     | 描述   |
| --- | -------- | ------ |
| 4   | reserved | 未定义 |
| 5   | reserved | 未定义 |
| 6   | reserved | 未定义 |
转矩脉动辨识模式下的控制命令和状态切换
| 操作         | 控制字 6040h | 驱动器状态         | 状态字 6041h |
| ------------ | ------------ | ------------------ | ------------ |
| 伺服失能     | 0x05         | switch on disabled | 0x250        |
| 伺服未准备好 | 0x06         | ready to switch on | 0x231        |
| 伺服使能     | 0x0F         | operation enable   | 0x237        |
电机额定电流 6075h-00h
用户可根据电机参数设置电机额定电流。
辨识电流幅度相对值 3503h-00h
辨识电流占电机额定电流的百分比。
应用于电气辨识、方向辨识、极对数辨识、霍尔辨识、Z 相辨识、电角度辨识、转矩脉动辨识。
注：在一般情况下不需要设置这个参数，在电机电感较小（小于 100uH），可以适当提高辨识电流幅值以获得更加准确得电机电感参数。
转矩脉动补偿开关 3559h-00h
开启转矩脉动补偿开关且转矩脉动辨识完成后，可以减小转矩脉动引起的位置误差。
摩擦补偿开关 355Ah-00h
开启摩擦补偿开关且转矩脉动辨识完成后，可以减小换向时引起的位置误差。
转矩脉动辨识模式监测参数
| 参数名称         | 字典名称               | 主索引 | 子索引 | 数据类型 | 参数范围             | 读写权限 | 单位        | 字典指令值含义                                                                                                                                                                                                                                                                                                                                                           |
| -------------------- | -------------------------- | ---------- | ---------- | ------------ | ------------------------ | ------------ | --------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 状态字               | DS402 Statusword           | 0x6041     | 0x00       | UNS16        | -                        | RW           | -               |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机运行状态         | Motor Operation Status     | 0x3005     | 0x00       | UNS8         | 0~255                    | RO           | -               |                                                                                                                                                                                                                                                                                                                                                                              |
| 当前运行模式         | Operation Mode Actual      | 0x6061     | 0x00       | INTEGER8     | -                        | RO           | -               | 0x01：位置模式 0x03：速度模式 0x04：力矩模式 0x06：回零模式 0x0B：力控模式 0x3C：往复运动模式 0x16：模拟量控速度模式 0x17：模拟量控力矩模式 0x1F：脉冲控位置模式 0x3D：参考信号模式 0x2A：PWM 控速模式 0x3E：多段运行模式 0xFF：电气辨识 0xFE：方向辨识 0xFC：极对数辨识 0xFB：Z 相辨识 0xFD：霍尔辨识 0xFA：电角度辨识 0xF9：机械辨识 0xF7：机械特性辨识 0xF8：转矩脉动辨识 |
| 辨识状态             | Identification State       | 0x3008     | 0x00       | UNS8         | 0~127                    | RO           | -               | 0：启动开始空闲状态 1：辨识成功 2：电气辨识中 3：方向辨识中 4：机械辨识中 5：转矩脉动辨识中 255：错误状态                                                                                                                                                                                                                                                                    |
| 静摩擦对应的转矩电流 | Static Friction Current    | 0x3531     | 0x00       | UNS32        | 0~4294967295             | RW           | mA              |                                                                                                                                                                                                                                                                                                                                                                              |
| 电机端位置误差       | Motor Position Error Value | 0x3573     | 0x00       | INTEGER32    | -2147483648 ~ 2147483647 | RO           | 指令单位        |                                                                                                                                                                                                                                                                                                                                                                              |
| 负载端位置误差       | Load Position Error Value  | 0x60F4     | 0x00       | INTEGER32    | -2147483648 ~ 2147483647 | RO           | 指令单位        |                                                                                                                                                                                                                                                                                                                                                                              |
| 力矩指令值           | Torque Demand Value        | 0x6074     | 0x00       | INTEGER16    | -32758~32767             | RO           | 额定力矩/1000   |                                                                                                                                                                                                                                                                                                                                                                              |
| 电流当前值           | Current Actual Value       | 0x6078     | 0x00       | INTEGER16    | -32758~32767             | RO           | 额定力矩/1000/s |                                                                                                                                                                                                                                                                                                                                                                              |
状态字 6041h-00h
状态字释义表
| bit   | 名称                    | 含义             | 描述                                                                          |
| ----- | ----------------------- | ---------------- | ----------------------------------------------------------------------------- |
| 0     | ready to switch on      | 伺服未准备好     | 0：无效 1：有效                                                               |
| 1     | switched on             | 伺服已接通 PWM   | 0：无效 1：有效                                                               |
| 2     | operation enabled       | 伺服使能         | 0：无效 1：有效                                                               |
| 3     | fault                   | 故障             | 0：无效 1：有效                                                               |
| 4     | voltage enabled         | 驱动器已接通电源 | 0：无效 1：有效                                                               |
| 5     | quick stop              | 急停             | 0：无效 1：有效                                                               |
| 6     | switch on disabled      | 伺服未接通 PWM   | 0：无效 1：有效                                                               |
| 7     | warning                 | 警告             | 0：无效 1：有效                                                               |
| 8     | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
| 9     | remote                  | 远程控制         | 0：非 CANopen 模式 1：CANopen 远程控制模式                                    |
| 10    | target reached          | 目标已到达       | 0：无效 1：有效                                                               |
| 11    | internal limit active   | 软件内部位置超限 | 0：位置指令或反馈未到达软件内部位置限制 1：位置指令或反馈达到软件内部位置限制 |
| 12~13 | operation mode specific | 运行模式定义状态 | 与运行模式有关                                                                |
| 14~15 | manufacture specific    | 厂家自定义       | 预留，未定义                                                                  |
状态字bit0-bit3，bit5，bit6 定义
| Value(binary)指令值 | State状态      |
| --------------------------- | ---------------------- |
| xxxx xxxx x0xx 0000         | Not ready to switch on |
| xxxx xxxx x1xx 0000         | Switch on disabled     |
| xxxx xxxx x01x 0001         | Ready to switch on     |
| xxxx xxxx x01x 0011         | Switched on            |
| xxxx xxxx x01x 0111         | Operation enabled      |
| xxxx xxxx x00x 0111         | Quick stop active      |
| xxxx xxxx x0xx 1111         | Fault reaction active  |
| xxxx xxxx x0xx 1000         | Fault                  |
状态字Bit10、Bit12、Bit13 定义
| Bit | Value | Definition含义 |
| ------- | --------- | ---------------------- |
| 10      | -         | 未定义                 |
| 11      | -         | 未定义                 |
| 12      | -         | 未定义                 |
| 13      | -         | 未定义                 |
电机运行状态 3005h-00h
电机状态与伺服状态关系
| 402 状态               | 电机状态 |
| ---------------------- | -------- |
| Not ready to switch on | 电机失能 |
| Switch on disabled     | 电机失能 |
| Ready to switch on     | 电机失能 |
| Switched on            | 电机失能 |
| Operation enabled      | 电机使能 |
| Quick stop active      | 电机使能 |
| Fault                  | 电机失能 |
当前运行模式 6061h-00h
反馈当前运行模式，出厂设置为 0，表示空模式，空模式可以切换到任意模式。
当运行模式指令 = 0xFF(-1)时，当前运行模式 = 0xFF(-1)。
辨识状态 3005h-00h
| 值  | 含义             |
| --- | ---------------- |
| 0   | 启动开启空闲状态 |
| 1   | 辨识成功         |
| 2   | 电气辨识中       |
| 3   | 方向辨识中       |
| 4   | 机械辨识中       |
| 5   | 转矩脉动辨识中   |
| 255 | 辨识错误         |
静摩擦对应的转矩电流 3531h-00h
转矩脉动补偿辨识之后会得到一个摩擦对应的转矩电流，这个值也可以手动设置，效果就是在电流输出时增加补偿。运行力矩模式，设置一个非 0 的目标力矩，可以查看到力矩指令值与目标力矩不相等，不相等的就是补偿的部分。
电机端位置误差 3573h-00h
电机端位置误差 = 位置规划值 - 电机端位置当前值。
双编码器控制时，为编码器 1 的位置误差。
负载端位置误差 60F4h-00h
负载端位置误差 = 位置规划值 - 负载端位置当前值。
负载端位置误差：单编码器控制时，为编码器 1 位置误差。双编码器控制时，指编码器 2 的位置误差。
力矩指令值 6074h-00h
用于力矩规划。电机的输出力矩按照力矩指令值进行规划。
电流当前值 6078h-00h
驱动器当前电流值，受正向力矩限制和负向力矩限制。
当开启力矩限制时，-负向力矩限制相对值 * 电机额定电流 ≤ 当前电流值 ≤ 正向力矩限制相对值 * 电机额定电流。
辨识模式相关注意事项
注：
无特殊情况，辨识模式建议在空载下进行。
先进行极对数辨识，在进行方向辨识。
转矩脉动辨识只支持绝对式编码器
| 辨识模式常见异常现象          | 解决措施                                                               |
| --------------------------------- | -------------------------------------------------------------------------- |
| 音圈电气辨识报电机过载            | 电机线接反了，检查电机线连接。                                             |
| 极对数辨识辨识成功了但是不对      | 根据电机参数表手动设置极对数，然后跳过极对数辨识的步骤，不进行极对数辨识。 |
| 霍尔辨识错误                      | 霍尔线没接好，检查接线。                                                   |
| 机械辨识/机械特性辨识时驱动器复位 | 电源功率太小，建议更换更大功率的电源（20A）                                |
| 电角度辨识失败                    | 可能是极对数不对，可能是编码器分辨率不对，也可能是编码器没接好。           |