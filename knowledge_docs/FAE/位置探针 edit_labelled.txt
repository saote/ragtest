位置探针 edit
功能简介
探针功能即位置锁存功能。它能锁存 DI 信号或电机 Z 信号变化时的位置信息(用户单位，负载端)。现支持 2 组探针，可同时并行使用，记录每组探针信号的上升沿和下降沿对应的位置信息并可累计触发次数，即可同时锁存 4 个位置信息和触发计数值。
字典说明
| 参数名称                     | 字典名称                               | 主索引 | 子索引    | 数据类型  | 参数范围                 | 读写权限 | 单位  | 字典指令值含义                                                                                                                                   |
| ---------------------------- | -------------------------------------- | ------ | --------- | --------- | ------------------------ | -------- | ----- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| 数字 IO 输入上升沿触发事件表 | Digital IO Input Rising Edge Function  | 0x359B | 0x00~0x1F | UNS8      | 0 ~ 255                  | RW       | -     | 0：忽略输入 38：探针 139：探针 2                                                                                                                 |
| 数字 IO 输入下降沿触发事件表 | Digital IO Input Falling Edge Function | 0x359C | 0x00~0x1F | UNS8      | 0 ~ 255                  | RW       | -     | 0：忽略输入 38：探针 139：探针 2                                                                                                                 |
| 探针功能                     | Touch Probe Function Controlword       | 0x60B8 | 0x00      | UNS16     | 0x0000 ~ 0x3737          | RW       | -     | 探针功能控制字                                                                                                                                   |
| 探针状态                     | Touch Probe Status                     | 0x60B9 | 0x00      | UNS16     | 0x0000 ~ 0x0707          | RO       | -     | 探针功能状态字                                                                                                                                   |
| 探针 1 上升沿锁存位置值      | Touch Probe 1 Positive Edge Position   | 0x60BA | 0x00      | INTEGER32 | -2147483648 ~ 2147483647 | RO       | PosCU | 用户单位                                                                                                                                         |
| 探针 1 下降沿锁存位置值      | Touch Probe 1 Negative Edge Position   | 0x60BB | 0x00      | INTEGER32 | -2147483648 ~ 2147483647 | RO       | PosCU | 用户单位                                                                                                                                         |
| 探针 2 上升沿锁存位置值      | Touch Probe 2 Positive Edge Position   | 0x60BC | 0x00      | INTEGER32 | -2147483648 ~ 2147483647 | RO       | PosCU | 用户单位                                                                                                                                         |
| 探针 2 下降沿锁存位置值      | Touch Probe 2 Negative Edge Position   | 0x60BD | 0x00      | INTEGER32 | -2147483648 ~ 2147483647 | RO       | PosCU | 用户单位                                                                                                                                         |
| 探针 1 上升沿触发计数值      | Touch Probe 1 Positive Edge Counter    | 0x60D5 | 0x00      | UNS16     | 0 ~ 65535                | RO       | cnt   | 在首次触发模式下，锁存 1 次位置信息后，该值置 1；在连续触发模式下，每锁存 1 次位置信息，该值自加 1，记录最大次数 65535 后自然溢出重新从 0 开始。 |
| 探针 1 下降沿触发计数值      | Touch Probe 1 Negative Edge Counter    | 0x60D6 | 0x00      | UNS16     | 0 ~ 65535                | RO       | cnt   | 在首次触发模式下，锁存 1 次位置信息后，该值置 1；在连续触发模式下，每锁存 1 次位置信息，该值自加 1，记录最大次数 65535 后自然溢出重新从 0 开始。 |
| 探针 2 上升沿触发计数值      | Touch Probe 2 Positive Edge Counter    | 0x60D7 | 0x00      | UNS16     | 0 ~ 65535                | RO       | cnt   | 在首次触发模式下，锁存 1 次位置信息后，该值置 1；在连续触发模式下，每锁存 1 次位置信息，该值自加 1，记录最大次数 65535 后自然溢出重新从 0 开始。 |
| 探针 2 下降沿触发计数值      | Touch Probe 2 Negative Edge Counter    | 0x60D8 | 0x00      | UNS16     | 0 ~ 65535                | RO       | cnt   | 在首次触发模式下，锁存 1 次位置信息后，该值置 1；在连续触发模式下，每锁存 1 次位置信息，该值自加 1，记录最大次数 65535 后自然溢出重新从 0 开始。 |
探针功能 Touch probe function（0x60B8）
用于设定探针功能的各项配置信息，参数各 Bit 的说明如下：
| Bit | 功能说明              | 值 | 具体含义                                                |
| ------- | ------------------------- | ------ | ----------------------------------------------------------- |
| 0       | 探针 1 功能开关           | 0      | 关闭 探针 1 功能                                            |
|         |                           | 1      | 开启 探针 1 功能                                            |
| 1       | 探针 1 触发模式           | 0      | 首次触发                                                    |
|         |                           | 1      | 连续触发                                                    |
| 2       | 探针 1 触发源             | 0      | 数字 IO 输入信号                                            |
|         |                           | 1      | 编码器零点位置信号                                          |
| 3       | 保留                      | -      | -                                                           |
| 4       | 探针 1 上升沿触发使能开关 | 0      | 关闭 探针 1 触发源信号上升沿锁存位置值                      |
|         |                           | 1      | 开启 探针 1 触发源信号上升沿锁存位置值，并保存于对象 0x60BA |
| 5       | 探针 1 下降沿触发使能开关 | 0      | 关闭 探针 1 触发源信号下降沿锁存位置值                      |
|         |                           | 1      | 开启 探针 1 触发源信号下降沿锁存位置值，并保存于对象 0x60BB |
| 6、7    | 自定义                    | -      | -                                                           |
| 8       | 探针 2 功能开关           | 0      | 关闭 探针 2 功能                                            |
|         |                           | 1      | 开启 探针 2 功能                                            |
| 9       | 探针 2 触发模式           | 0      | 首次触发                                                    |
|         |                           | 1      | 连续触发                                                    |
| 10      | 探针 2 触发源             | 0      | 数字 IO 输入信号                                            |
|         |                           | 1      | 编码器零点位置信号                                          |
| 11      | 保留                      | -      | -                                                           |
| 12      | 探针 2 上升沿触发使能开关 | 0      | 关闭 探针 2 触发源信号上升沿锁存位置值                      |
|         |                           | 1      | 开启 探针 2 触发源信号上升沿锁存位置值，并保存于对象 0x60BC |
| 13      | 探针 2 下降沿触发使能开关 | 0      | 关闭 探针 2 触发源信号下降沿锁存位置值                      |
|         |                           | 1      | 开启 探针 2 触发源信号下降沿锁存位置值，并保存于对象 0x60BD |
| 14、15  | 自定义                    | -      | -                                                           |
探针状态 Touch probe status（0x60B9）
用于提供探针的运行状态，参数各 Bit 的说明如下：
| Bit | 功能说明          | 值 | 具体含义                        |
| ------- | --------------------- | ------ | ----------------------------------- |
| 0       | 探针 1 功能开启状态   | 0      | 探针 1 功能 关闭                    |
|         |                       | 1      | 探针 1 功能 使能                    |
| 1       | 探针 1 上升沿锁存状态 | 0      | 探针 1 触发源信号上升沿未锁存位置值 |
|         |                       | 1      | 探针 1 触发源信号上升沿已锁存位置值 |
| 2       | 探针 1 下降沿锁存状态 | 0      | 探针 1 触发源信号下降沿未锁存位置值 |
|         |                       | 1      | 探针 1 触发源信号下降沿已锁存位置值 |
| 3 ~ 5   | 保留                  | -      | -                                   |
| 6、7    | 自定义                | -      | -                                   |
| 8       | 探针 2 功能开启状态   | 0      | 探针 2 功能 关闭                    |
|         |                       | 1      | 探针 2 功能 使能                    |
| 9       | 探针 2 上升沿锁存状态 | 0      | 探针 2 触发源信号上升沿未锁存位置值 |
|         |                       | 1      | 探针 2 触发源信号上升沿已锁存位置值 |
| 10      | 探针 2 下降沿锁存状态 | 0      | 探针 2 触发源信号下降沿未锁存位置值 |
|         |                       | 1      | 探针 2 触发源信号下降沿已锁存位置值 |
| 11 ~ 13 | 保留                  | -      | -                                   |
| 14、15  | 自定义                | -      | -                                   |
功能应用
将如下设置对应统一更改到对象 0x60B8，再设置进入驱动器，避免出现未生效情况。
所有设置更改，仅在探针使能开关（0x60B8：探针 1 bit0    探针 2 bit8）同时发生改变时，即开关探针使能开关的同时并设置其他控制量才生效。
设置控制量
触发模式
单次触发：开启后，触发一次完成后处于待机状态，需再次关、开探针功能才能进行再次触发；
连续触发：开启后，满足触发条件即触发，并累计次数。
触发源
数字 IO 输入信号：请先触发信号连接至数字 IO 输入端口，再配置对应数字 IO 输入触发事件表对应的 IO 设定为探针 1/2 事件；
编码器零点位置信号：请确认接入位置传感器是否支持 Z 脉冲信号，不支持则每当编码器位置跨越零点时，将自动生成虚拟 Z 脉冲信号，但不支持霍尔编码器；
沿触发使能开关
当探针功能使能后，并对应触发沿使能，才能正常执行触发操作；
当触发源选择 编码器零点位置信号 时，选择任意沿使能，实际均作为上升沿处理。
探针功能触发、执行步骤示意图
触发示意图

以上媒体的描述: 这张图片包含六个图表，每个图表都显示了一个波形图和相应的方波信号。每个图表的横轴表示时间（T），纵轴表示电压或信号强度。图表中有一些标注和说明，描述了不同情况下的信号触发条件和输出信号。
具体来说：
1. 左上图：描述了在输入信号上升沿触发的情况，配合方波信号的触发。
2. 右上图：描述了在输入信号下降沿触发的情况，配合方波信号的触发。
3. 左中图：描述了在输入信号上升沿和下降沿都触发的情况，配合方波信号的触发。
4. 右中图：描述了在输入信号下降沿和上升沿都触发的情况，配合方波信号的触发。
5. 左下图：描述了在输入信号上升沿触发，下降沿触发延迟的情况，配合方波信号的触发。
6. 右下图：描述了在输入信号下降沿触发，下降沿触发延迟的情况，配合方波信号的触发。
每个图表中都有标注“低电平有效”和“高电平有效”，以及一些具体的时间点和电压值的标注。这些图表通常用于解释电子电路中的触发机制和信号处理。
执行步骤示意图

以上媒体的描述: 这张图片包含一个流程图和一个时序图。
流程图的步骤如下：
1. 设置探针1的触发模式/信号来源/有效锁存沿（地址：6088h，位：bit1/2/4/5）
2. 使能探针1（地址：6088h，位：bit0）
3. 检测到有效锁存沿（探针1信号）
4. 读取探针1状态（地址：6089h，位：bit0）
5. 读取锁存位置信息（地址：60D5h）
6. 读取锁存位置信息（地址：60BAh）
时序图展示了探针1信号和相关的位状态变化。